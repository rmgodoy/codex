(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{4113:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eo});var i=t(95155),a=t(12115),l=t(38914),r=t(6195),n=t(30285),o=t(66695),c=t(22945),d=t(82643),u=t(55166),p=t(40157);let h=(0,p.A)("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]]);var m=t(21816),x=t(18051),f=t(91721),g=t(50286),b=t(45731),j=t(32137),v=t(98917),y=t(30990);let k=(0,p.A)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var w=t(51920),N=t(82489),L=t(88539),C=t(87481),S=t(62523);let A=()=>new Promise((e,s)=>{let t=indexedDB.open("TresspasserWorldsMetadata",1);t.onupgradeneeded=()=>{let e=t.result;e.objectStoreNames.contains(N.sb)||e.createObjectStore(N.sb,{keyPath:"slug"})},t.onsuccess=()=>e(t.result),t.onerror=()=>s(t.error)});function F(){let{worldSlug:e,worldName:s,refreshWorldName:t}=(0,l.q)(),[p,F]=(0,a.useState)(null),[D,E]=(0,a.useState)(""),[T,M]=(0,a.useState)(""),[B,P]=(0,a.useState)(!1),{toast:z}=(0,C.dj)();(0,a.useEffect)(()=>{(async()=>{if(e)try{let t=(await A()).transaction(N.sb,"readonly").objectStore(N.sb).get(e);t.onsuccess=()=>{if(t.result)F(t.result),E(t.result.name),M(t.result.description);else{let t={slug:e,name:s,description:"A new world of adventure awaits..."};F(t),E(t.name),M(t.description)}},t.onerror=()=>{console.error("Error fetching world metadata:",t.error)}}catch(e){console.error("DB error:",e)}})()},[e,s]);let I=async()=>{if(e)try{let s=(await A()).transaction(N.sb,"readwrite"),i=s.objectStore(N.sb),a={slug:e,name:D,description:T};i.put(a),await new Promise((e,t)=>{s.oncomplete=()=>e(),s.onerror=()=>t(s.error)}),F(a),P(!1),t(),z({title:"World Updated",description:"Your world details have been saved."})}catch(e){z({variant:"destructive",title:"Error",description:"Failed to save world details."})}},R=[{title:"Alchemy",description:"Manage potions, powders, oils, and bombs.",icon:c.A,href:"#/".concat(e,"/alchemy")},{title:"Bestiary",description:"Create, edit, and manage all the creatures for your game.",icon:d.A,href:"#/".concat(e,"/bestiary")},{title:"Cities",description:"Manage the cities and settlements of your world.",icon:u.A,href:"#/".concat(e,"/cities")},{title:"Deeds Library",description:"A library of actions that creatures can perform.",icon:h,href:"#/".concat(e,"/deeds")},{title:"Encounters",description:"Design and run combat encounters.",icon:m.A,href:"#/".concat(e,"/encounters")},{title:"Items",description:"Catalog weapons, armor, and other equipment.",icon:x.A,href:"#/".concat(e,"/items")},{title:"NPCs",description:"Create detailed Non-Player Characters.",icon:f.A,href:"#/".concat(e,"/npcs")},{title:"Factions",description:"Manage the various factions in your world.",icon:g.A,href:"#/".concat(e,"/factions")},{title:"Pantheon",description:"Manage the godlike entities of your world.",icon:b.A,href:"#/".concat(e,"/pantheon")},{title:"Rooms",description:"Build a library of reusable rooms for dungeons.",icon:j.A,href:"#/".concat(e,"/rooms")},{title:"Treasures",description:"Create a library of treasure items.",icon:v.A,href:"#/".concat(e,"/random/treasures")},{title:"Encounter Tables",description:"Create weighted tables to randomly generate encounters.",icon:y.A,href:"#/".concat(e,"/random/encounter-tables")},{title:"Commoners",description:"Instantly generate four random commoner PCs.",icon:y.A,href:"#/".concat(e,"/random/commoners")},{title:"Dungeons",description:"Assemble your pre-defined rooms into complex dungeons.",icon:y.A,href:"#/".concat(e,"/dungeons")},{title:"World Map",description:"A powerful hex-grid map creator.",icon:k,href:"#/".concat(e,"/maps")},{title:"Calendar",description:"A fully-featured in-game calendar.",icon:w.A,href:"#/".concat(e,"/calendar")}].sort((e,s)=>e.title.localeCompare(s.title));return(0,i.jsx)(r.A,{showSidebarTrigger:!1,children:(0,i.jsx)("div",{className:"h-full overflow-y-auto bg-background/50",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[(0,i.jsx)("div",{className:"text-center",children:B?(0,i.jsxs)("div",{className:"max-w-xl mx-auto space-y-4",children:[(0,i.jsx)(S.p,{value:D,onChange:e=>E(e.target.value),className:"text-4xl font-extrabold tracking-tight text-foreground sm:text-5xl md:text-6xl text-center h-auto bg-transparent border-primary"}),(0,i.jsx)(L.T,{value:T,onChange:e=>M(e.target.value),className:"mt-3 text-lg text-muted-foreground sm:text-xl md:mt-5 bg-transparent",rows:3}),(0,i.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,i.jsx)(n.$,{onClick:I,children:"Save"}),(0,i.jsx)(n.$,{variant:"ghost",onClick:()=>P(!1),children:"Cancel"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:(null==p?void 0:p.name)||s||"Loading..."}),(0,i.jsx)("p",{className:"mt-3 max-w-md mx-auto text-lg text-muted-foreground sm:text-xl md:mt-5 md:max-w-3xl",children:(null==p?void 0:p.description)||"..."}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(n.$,{variant:"outline",onClick:()=>P(!0),children:"Edit World Details"})})]})}),(0,i.jsx)("div",{className:"mt-20",children:(0,i.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:R.map(e=>(0,i.jsxs)(o.Zp,{className:"flex flex-col",children:[(0,i.jsx)(o.aR,{className:"flex-shrink-0",children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)(e.icon,{className:"h-8 w-8 text-accent"}),(0,i.jsx)(o.ZB,{children:e.title})]})}),(0,i.jsx)(o.Wu,{className:"flex-grow",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:e.description})}),(0,i.jsx)(o.Wu,{children:(0,i.jsx)("a",{href:e.href,children:(0,i.jsxs)(n.$,{variant:"outline",className:"w-full",children:["Go to ",e.title]})})})]},e.title))})})]})})})}var D=t(19094),E=t(46818),T=t(81625),M=t(57662),B=t(70522),P=t(71608),z=t(42667),I=t(46395),R=t(99012),W=t(4580),$=t(33485),U=t(85171),q=t(91999),V=t(99395),J=t(64867),G=t(64911),O=t(54605),Z=t(23690);let H={"":F,bestiary:D.default,deeds:E.default,alchemy:T.default,items:M.default,npcs:B.default,factions:P.default,pantheon:z.default,races:Z.default,rooms:I.default,dungeons:R.default,encounters:W.default,calendar:$.default,"calendar-models":U.default,maps:q.default,"random/commoners":V.default,"random/encounter-tables":J.default,"random/treasures":G.default,cities:O.default};function K(){let{worldSlug:e}=(0,l.q)(),[s,t]=(0,a.useState)({Component:null,props:{}});if((0,a.useEffect)(()=>{let s=()=>{var s;let[i,a]=window.location.hash.slice(1).split("?"),l=i.split("/").filter(Boolean),r=l[0],n=l.slice(1,(null==(s=l[1])?void 0:s.startsWith("random"))?3:2).join("/"),o={selectedId:l.length>(n.startsWith("random")?3:2)?l[l.length-1]:void 0};a&&new URLSearchParams(a).forEach((e,s)=>{if("selectedDate"===s&&e)try{let t=JSON.parse(decodeURIComponent(e));t.year&&void 0!==t.monthIndex&&t.day&&(o[s]=t)}catch(e){console.error("Failed to parse selectedDate from URL",e)}else o[s]=e}),r===e&&t({Component:H[n]||F,props:o})};return s(),window.addEventListener("hashchange",s),()=>window.removeEventListener("hashchange",s)},[e]),!e)return null;let{Component:r,props:n}=s;return r?(0,i.jsx)(r,{...n}):null}var _=t(54165),Q=t(85057),Y=t(34239),X=t(50172);let ee=(0,p.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var es=t(18763),et=t(68718),ei=t(77223),ea=t(90010),el=t(44838);let er=[{title:"Bestiary",description:"Create, edit, and manage creatures with detailed stats, roles, templates, abilities, and deeds.",icon:d.A},{title:"Deeds Library",description:"A library of reusable actions for creatures, from simple attacks to complex magical spells.",icon:h},{title:"Items & Alchemy",description:"Catalog weapons, armor, potions, and alchemical items with unique properties.",icon:c.A},{title:"NPCs & Factions",description:"Create detailed characters and manage the various factions, goals, and relationships in your world.",icon:g.A},{title:"Encounters",description:"Design combat encounters, add monsters from your bestiary, and run them with a live initiative tracker.",icon:m.A},{title:"Maps & Dungeons",description:"Build your world on a hex grid and assemble complex, interconnected dungeons from a library of rooms.",icon:k},{title:"Calendar & Events",description:"Track in-game events on multiple calendars, and link them to factions, creatures, or map locations.",icon:w.A},{title:"Random Generators",description:"Instantly generate random treasures, commoner PCs for a quick start, or roll on encounter tables.",icon:y.A},{title:"Pantheon",description:"Define the gods and powerful entities of your world, complete with their domains, symbols, and artifacts.",icon:b.A}];function en(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[h,m]=(0,a.useState)(null),{toast:x}=(0,C.dj)(),f=async()=>{l(!0);try{let e=await (0,Y.Uj)();s(e)}catch(e){console.error("Failed to list worlds",e),x({variant:"destructive",title:"Error",description:"Could not load worlds list."})}finally{l(!1)}};(0,a.useEffect)(()=>{f()},[]);let g=()=>{if(!u.trim())return void x({variant:"destructive",title:"Invalid Name",description:"World name cannot be empty."});let s=u.trim().toLowerCase().replace(/\s+/g,"-");if(e.some(e=>e.slug===s))return void x({variant:"destructive",title:"Name Exists",description:"A world with this name already exists."});window.location.hash="#/".concat(s)},b=async s=>{let t=e.find(e=>e.slug===s);t&&(await (0,Y.uT)(s),x({title:"World Deleted",description:'"'.concat(t.name,'" has been permanently deleted.')}),f())},j=async()=>{if(!h||!h.newName.trim())return void x({variant:"destructive",title:"Invalid Name",description:"New world name cannot be empty."});let{oldName:s,newName:t,slug:i}=h,a=t.trim().toLowerCase().replace(/\s+/g,"-");if(e.some(e=>e.slug===a&&e.slug!==i))return void x({variant:"destructive",title:"Name Exists",description:"A world with this name already exists."});try{await (0,Y.XN)(i,t),x({title:"World Renamed",description:'"'.concat(s,'" is now "').concat(t,'".')}),m(null),f()}catch(e){x({variant:"destructive",title:"Error",description:"Could not rename world."})}},v=async s=>{let t=e.find(e=>e.slug===s);if(t)try{let e=await (0,Y.P7)(s),i="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e,null,2))),a=document.createElement("a");a.href=i,a.download="codex_world_".concat(t.name,".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),x({title:"Export Successful",description:'"'.concat(t.name,'" data has been downloaded.')})}catch(e){console.error("Export failed:",e),x({variant:"destructive",title:"Export Failed",description:"Could not export the data."})}},y=e=>{if(e.length<=50)return e;let s=e.substring(0,50),t=s.lastIndexOf(" ");return t>0?s.substring(0,t)+"...":s+"..."};return(0,i.jsxs)(r.A,{showSidebarTrigger:!1,children:[(0,i.jsx)("div",{className:"h-full overflow-y-auto bg-background/50",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:"Codex"}),(0,i.jsx)("p",{className:"mt-3 max-w-md mx-auto text-lg text-muted-foreground sm:text-xl md:mt-5 md:max-w-3xl",children:"A comprehensive application for managing and organizing your TTRPG worlds. Create creatures, design encounters, build dungeons, and bring your stories to life."}),(0,i.jsx)("p",{className:"mt-3 max-w-md mx-auto text-base text-muted-foreground sm:text-base md:mt-5 md:max-w-3xl",children:"System focused on Tresspasser by Tundalus"}),(0,i.jsx)("p",{className:"mt-3 max-w-md mx-auto text-sm text-muted-foreground sm:text-sm md:mt-5 md:max-w-3xl",children:"Developed using Firebase Studio"}),(0,i.jsx)("div",{className:"mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8",children:(0,i.jsxs)(_.lG,{open:c,onOpenChange:d,children:[(0,i.jsx)(_.zM,{asChild:!0,children:(0,i.jsx)(n.$,{size:"lg",disabled:t,children:t?(0,i.jsx)(X.A,{className:"mr-2 h-5 w-5 animate-spin"}):e.length>0?"New World":"Get Started"})}),(0,i.jsxs)(_.Cf,{children:[(0,i.jsxs)(_.c7,{children:[(0,i.jsx)(_.L3,{children:"Create a New World"}),(0,i.jsx)(_.rr,{children:"Give your new world a name to begin your journey."})]}),(0,i.jsxs)("div",{className:"py-4",children:[(0,i.jsx)(Q.J,{htmlFor:"world-name",children:"World Name"}),(0,i.jsx)(S.p,{id:"world-name",value:u,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&g()},placeholder:"e.g., Aethelgard"})]}),(0,i.jsx)(_.Es,{children:(0,i.jsx)(n.$,{onClick:g,children:"Create World"})})]})]})})]}),(0,i.jsx)("div",{className:"mt-20",children:t||0===e.length?(0,i.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:er.map(e=>(0,i.jsxs)(o.Zp,{children:[(0,i.jsxs)(o.aR,{className:"flex flex-row items-center gap-4",children:[(0,i.jsx)(e.icon,{className:"h-8 w-8 text-accent shrink-0"}),(0,i.jsx)(o.ZB,{children:e.title})]}),(0,i.jsx)(o.Wu,{children:(0,i.jsx)("p",{className:"text-muted-foreground",children:e.description})})]},e.title))}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"Your Worlds"}),(0,i.jsx)("div",{className:"max-w-3xl mx-auto space-y-4",children:e.map(e=>(0,i.jsxs)("div",{className:"border rounded-lg p-4 flex items-center justify-between gap-4 bg-card",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h3",{className:"font-bold text-lg text-card-foreground truncate",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground hidden md:block",children:y(e.description)})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[(0,i.jsx)(n.$,{asChild:!0,size:"sm",children:(0,i.jsx)("a",{href:"#/".concat(e.slug),children:"Enter World"})}),(0,i.jsxs)(el.rI,{children:[(0,i.jsx)(el.ty,{asChild:!0,children:(0,i.jsxs)(n.$,{variant:"ghost",size:"icon",children:[(0,i.jsx)(ee,{}),(0,i.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,i.jsxs)(el.SQ,{align:"end",children:[(0,i.jsxs)(el._2,{onSelect:()=>m({oldName:e.name,newName:e.name,slug:e.slug}),children:[(0,i.jsx)(es.A,{className:"mr-2"})," Rename"]}),(0,i.jsxs)(el._2,{onSelect:()=>v(e.slug),children:[(0,i.jsx)(et.A,{className:"mr-2"})," Export"]}),(0,i.jsx)(el.mB,{}),(0,i.jsxs)(ea.Lt,{children:[(0,i.jsx)(ea.tv,{asChild:!0,children:(0,i.jsxs)(el._2,{onSelect:e=>e.preventDefault(),className:"text-destructive focus:bg-destructive/20 focus:text-destructive",children:[(0,i.jsx)(ei.A,{className:"mr-2"})," Delete"]})}),(0,i.jsxs)(ea.EO,{children:[(0,i.jsxs)(ea.wd,{children:[(0,i.jsxs)(ea.r7,{children:['Delete "',e.name,'"?']}),(0,i.jsx)(ea.$v,{children:"This action cannot be undone. All data for this world will be permanently deleted."})]}),(0,i.jsxs)(ea.ck,{children:[(0,i.jsx)(ea.Zr,{children:"Cancel"}),(0,i.jsx)(ea.Rx,{onClick:()=>b(e.slug),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]})]},e.slug))})]})})]})}),h&&(0,i.jsx)(_.lG,{open:!!h,onOpenChange:()=>m(null),children:(0,i.jsxs)(_.Cf,{children:[(0,i.jsx)(_.c7,{children:(0,i.jsxs)(_.L3,{children:['Rename "',h.oldName,'"']})}),(0,i.jsxs)("div",{className:"py-4",children:[(0,i.jsx)(Q.J,{htmlFor:"world-name-edit",children:"New World Name"}),(0,i.jsx)(S.p,{id:"world-name-edit",value:h.newName,onChange:e=>m({...h,newName:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&j()}})]}),(0,i.jsx)(_.Es,{children:(0,i.jsx)(n.$,{onClick:j,children:"Save"})})]})})]})}function eo(){let[e,s]=(0,a.useState)("");return((0,a.useEffect)(()=>{let e=()=>{s(window.location.hash)};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]),e&&e.startsWith("#/")&&e.length>2)?(0,i.jsx)(K,{}):(0,i.jsx)(en,{})}},50717:(e,s,t)=>{Promise.resolve().then(t.bind(t,4113))},71608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>U});var i=t(95155),a=t(12115),l=t(34239),r=t(62523),n=t(30285),o=t(66424),c=t(22346),d=t(87481),u=t(34301),p=t(75074),h=t(9572),m=t(20203),x=t(73926),f=t(85057),g=t(59409),b=t(90648),j=t(8643);function v(e){let{onSelectFaction:s,onNewFaction:t,selectedFactionId:v,dataVersion:y,filters:k,setFilters:w,onClearFilters:N}=e,[L,C]=(0,a.useState)([]),[S,A]=(0,a.useState)(!0),{toast:F}=(0,d.dj)();(0,a.useEffect)(()=>{(async()=>{A(!0);try{C(await (0,l.vq)())}catch(e){F({variant:"destructive",title:"Error",description:"Could not fetch factions from database."})}finally{A(!1)}})()},[y,F]);let D=(0,a.useMemo)(()=>{let e=L.filter(e=>{let s=e.name.toLowerCase().includes(k.searchTerm.toLowerCase()),t=!0,i=k.tagFilter.toLowerCase().split(",").map(e=>e.trim()).filter(Boolean);return i.length>0&&(t=!!e.tags&&i.every(s=>e.tags.some(e=>e.toLowerCase().includes(s)))),s&&t}).sort((e,s)=>e.name.localeCompare(s.name));return"desc"===k.sortOrder&&e.reverse(),e},[L,k]);return(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsxs)("div",{className:"p-4 space-y-4",children:[(0,i.jsxs)(n.$,{onClick:t,className:"w-full",children:[(0,i.jsx)(u.A,{})," New Faction"]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,i.jsx)(r.p,{placeholder:"Search factions...",value:k.searchTerm,onChange:e=>w.setSearchTerm(e.target.value),className:"pl-9"})]}),(0,i.jsxs)(j.Nt,{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(j.R6,{asChild:!0,children:(0,i.jsxs)(n.$,{variant:"ghost",className:"-ml-2",children:[(0,i.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Filters"]})}),(0,i.jsx)(n.$,{variant:"ghost",size:"sm",onClick:N,className:"text-xs h-auto p-1",children:"Clear"})]}),(0,i.jsx)(j.Ke,{className:"space-y-2 pt-2",children:(0,i.jsx)(b.F,{value:k.tagFilter?k.tagFilter.split(",").map(e=>e.trim()).filter(Boolean):[],onChange:e=>w.setTagFilter(e.join(",")),placeholder:"Tags...",tagSource:"faction"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(f.J,{children:"Sort by"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(g.l6,{value:k.sortBy,onValueChange:e=>w.setSortBy(e),children:[(0,i.jsx)(g.bq,{children:(0,i.jsx)(g.yv,{placeholder:"Sort by"})}),(0,i.jsx)(g.gC,{children:(0,i.jsx)(g.eb,{value:"name",children:"Name"})})]}),(0,i.jsxs)(n.$,{variant:"ghost",size:"icon",onClick:()=>w.setSortOrder(e=>"asc"===e?"desc":"asc"),children:["asc"===k.sortOrder?(0,i.jsx)(m.A,{className:"h-4 w-4"}):(0,i.jsx)(x.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Toggle sort order"})]})]})]})]}),(0,i.jsx)(c.w,{}),(0,i.jsx)(o.F,{className:"flex-1",children:(0,i.jsx)("div",{className:"p-4",children:S?(0,i.jsx)("p",{className:"text-muted-foreground text-center",children:"Loading factions..."}):D.length>0?(0,i.jsx)("ul",{className:"space-y-1",children:D.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{onClick:()=>s(e.id),className:"w-full text-left p-2 rounded-md transition-colors ".concat(v===e.id?"bg-primary text-primary-foreground":"hover:bg-accent/50"),children:e.name})},e.id))}):(0,i.jsx)("p",{className:"text-muted-foreground text-center",children:"No factions found."})})})]})}var y=t(62177),k=t(90221),w=t(55594),N=t(66695),L=t(88539),C=t(90010),S=t(17759),A=t(12543),F=t(18763),D=t(77223),E=t(25318),T=t(53054),M=t(68856),B=t(26126),P=t(47906);let z=w.z.object({name:w.z.string().min(1,"Faction name is required"),description:w.z.string().optional(),goals:w.z.string().optional(),tags:w.z.array(w.z.string()).optional()}),I={name:"",description:"",goals:"",tags:[]};function R(e){let{factionId:s,isCreatingNew:t,onSaveSuccess:o,onDeleteSuccess:u,onEditCancel:p,onBack:h}=e,{toast:m}=(0,d.dj)(),[x,f]=(0,a.useState)(t),[g,j]=(0,a.useState)(!t&&!!s),[v,w]=(0,a.useState)(null),R=(0,P.a)(),W=(0,y.mN)({resolver:(0,k.u)(z),defaultValues:I});(0,a.useEffect)(()=>{(async()=>{if(t){W.reset(I),w(null),f(!0),j(!1);return}if(!s){f(!1),j(!1),w(null);return}j(!0),f(!1);try{let e=await (0,l.vR)(s);e?(W.reset(e),w(e)):w(null)}catch(e){m({variant:"destructive",title:"Error",description:"Could not load faction data."})}finally{j(!1)}})()},[s,t,W,m]);let $=()=>{t?p():v&&(W.reset(v),f(!1))},U=async e=>{try{let i={...e,tags:e.tags||[]},a=e.tags||[];if(a.length>0&&await (0,l.JE)(a,"faction"),t){let s=await (0,l.sB)(i);m({title:"Faction Created!",description:"".concat(e.name," has been added.")}),o(s)}else s&&(await (0,l.mu)({...i,id:s}),m({title:"Save Successful",description:"".concat(e.name," has been updated.")}),o(s));f(!1)}catch(e){m({variant:"destructive",title:"Save Failed",description:"Could not save changes."})}},q=async()=>{if(s)try{await (0,l.Bx)(s),m({title:"Faction Deleted",description:"The faction has been removed."}),u()}catch(e){m({variant:"destructive",title:"Deletion Failed",description:"Could not delete the faction."})}};return g?(0,i.jsx)("div",{className:"w-full max-w-5xl mx-auto",children:(0,i.jsxs)(N.Zp,{children:[(0,i.jsx)(N.aR,{children:(0,i.jsx)(M.E,{className:"h-8 w-48"})}),(0,i.jsx)(N.Wu,{children:(0,i.jsx)(M.E,{className:"h-40 w-full"})})]})}):s||t?!x&&v?(0,i.jsx)("div",{className:"w-full max-w-5xl mx-auto",children:(0,i.jsxs)(N.Zp,{children:[(0,i.jsx)(N.aR,{children:(0,i.jsxs)("div",{className:"flex flex-row items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[R&&h&&(0,i.jsx)(n.$,{variant:"ghost",size:"icon",onClick:h,className:"shrink-0 -ml-2 -mt-1",children:(0,i.jsx)(A.A,{className:"h-5 w-5"})}),(0,i.jsx)("div",{children:(0,i.jsx)(N.ZB,{className:"text-3xl font-bold",children:v.name})})]}),(0,i.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[(0,i.jsx)(F.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"hidden sm:inline ml-2",children:"Edit"})]})]})}),(0,i.jsx)(N.Wu,{children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Description"}),(0,i.jsx)("p",{className:"text-foreground/80 whitespace-pre-wrap",children:v.description||"No description provided."})]}),(0,i.jsx)(c.w,{}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Goals"}),(0,i.jsx)("p",{className:"text-foreground/80 whitespace-pre-wrap",children:v.goals||"No goals provided."})]}),v.tags&&v.tags.length>0&&(0,i.jsx)("div",{className:"mt-4 pt-3 border-t border-border/50",children:(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:v.tags.map(e=>(0,i.jsx)(B.E,{variant:"secondary",children:e},e))})})]})}),(0,i.jsx)(N.wL,{children:(0,i.jsxs)(C.Lt,{children:[(0,i.jsx)(C.tv,{asChild:!0,children:(0,i.jsx)(n.$,{type:"button",variant:"destructive",size:"sm",children:(0,i.jsx)(D.A,{className:"h-4 w-4"})})}),(0,i.jsxs)(C.EO,{children:[(0,i.jsxs)(C.wd,{children:[(0,i.jsx)(C.r7,{children:"Are you sure?"}),(0,i.jsxs)(C.$v,{children:['This will permanently delete "',v.name,'". This action cannot be undone.']})]}),(0,i.jsxs)(C.ck,{children:[(0,i.jsx)(C.Zr,{children:"Cancel"}),(0,i.jsx)(C.Rx,{onClick:q,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})})]})}):(0,i.jsx)("div",{className:"w-full max-w-5xl mx-auto",children:(0,i.jsx)(N.Zp,{children:(0,i.jsx)(S.lV,{...W,children:(0,i.jsxs)("form",{onSubmit:W.handleSubmit(U),className:"space-y-6",children:[(0,i.jsx)(N.aR,{children:(0,i.jsxs)("div",{className:"flex flex-row justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[R&&h&&(0,i.jsx)(n.$,{type:"button",variant:"ghost",size:"icon",onClick:p,className:"shrink-0 -ml-2",children:(0,i.jsx)(A.A,{className:"h-5 w-5"})}),(0,i.jsx)("div",{children:(0,i.jsx)(N.ZB,{children:t?R?"New Faction":"Create New Faction":"Editing: ".concat(W.getValues("name")||"...")})})]}),!R&&(0,i.jsx)(n.$,{type:"button",variant:"ghost",size:"icon",onClick:$,className:"text-muted-foreground hover:text-foreground",children:(0,i.jsx)(E.A,{className:"h-5 w-5"})})]})}),(0,i.jsxs)(N.Wu,{className:"space-y-6",children:[(0,i.jsx)(S.zB,{name:"name",control:W.control,render:e=>{let{field:s}=e;return(0,i.jsxs)(S.eI,{children:[(0,i.jsx)(S.lR,{children:"Name"}),(0,i.jsx)(S.MJ,{children:(0,i.jsx)(r.p,{...s})}),(0,i.jsx)(S.C5,{})]})}}),(0,i.jsx)(S.zB,{name:"description",control:W.control,render:e=>{let{field:s}=e;return(0,i.jsxs)(S.eI,{children:[(0,i.jsx)(S.lR,{children:"Description"}),(0,i.jsx)(S.MJ,{children:(0,i.jsx)(L.T,{...s,rows:4})})]})}}),(0,i.jsx)(S.zB,{name:"goals",control:W.control,render:e=>{let{field:s}=e;return(0,i.jsxs)(S.eI,{children:[(0,i.jsx)(S.lR,{children:"Goals"}),(0,i.jsx)(S.MJ,{children:(0,i.jsx)(L.T,{...s,rows:4})})]})}}),(0,i.jsx)(S.zB,{name:"tags",control:W.control,render:e=>{let{field:s}=e;return(0,i.jsxs)(S.eI,{children:[(0,i.jsxs)(S.lR,{className:"flex items-center gap-2",children:[(0,i.jsx)(T.A,{className:"h-4 w-4 text-accent"}),"Tags"]}),(0,i.jsx)(S.MJ,{children:(0,i.jsx)(b.F,{value:s.value||[],onChange:s.onChange,placeholder:"Add tags...",tagSource:"faction"})}),(0,i.jsx)(S.C5,{})]})}})]}),(0,i.jsxs)(N.wL,{className:"flex items-center gap-2",children:[!t&&(0,i.jsxs)(C.Lt,{children:[(0,i.jsx)(C.tv,{asChild:!0,children:(0,i.jsx)(n.$,{type:"button",variant:"destructive",size:"sm",children:(0,i.jsx)(D.A,{className:"h-4 w-4"})})}),(0,i.jsxs)(C.EO,{children:[(0,i.jsxs)(C.wd,{children:[(0,i.jsx)(C.r7,{children:"Are you sure?"}),(0,i.jsxs)(C.$v,{children:['This will permanently delete "',W.getValues("name"),'".']})]}),(0,i.jsxs)(C.ck,{children:[(0,i.jsx)(C.Zr,{children:"Cancel"}),(0,i.jsx)(C.Rx,{onClick:q,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]}),(0,i.jsx)("div",{className:"flex-grow"}),!R&&(0,i.jsx)(n.$,{type:"button",variant:"outline",onClick:$,children:"Cancel"}),(0,i.jsx)(n.$,{type:"submit",children:t?"Create Faction":"Save Changes"})]})]})})})}):(0,i.jsx)("div",{className:"w-full max-w-5xl mx-auto",children:(0,i.jsx)(N.Zp,{className:"h-full flex items-center justify-center min-h-[300px]",children:(0,i.jsxs)(N.Wu,{className:"text-center pt-6",children:[(0,i.jsx)("p",{className:"text-xl text-muted-foreground",children:"Select a faction to view"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"or create a new one."})]})})})}var W=t(6195),$=t(20031);function U(e){let{selectedId:s}=e,[t,l]=(0,a.useState)(s||null),[r,n]=(0,a.useState)(!1),[o,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[m,x]=(0,a.useState)("name"),[f,g]=(0,a.useState)("asc"),[b,j]=(0,a.useState)(!1),y=(0,P.a)(),[k,w]=(0,a.useState)("list");(0,a.useEffect)(()=>{j(!0),s&&(l(s),y&&w("editor"))},[s,y]);let N={searchTerm:d,tagFilter:p,sortBy:m,sortOrder:f},L={setSearchTerm:u,setTagFilter:h,setSortBy:x,setSortOrder:g},C=()=>{u(""),h(""),x("name"),g("asc")},S=()=>c(e=>e+1),A=e=>{l(e),n(!1),y&&w("editor")},F=()=>{l(null),n(!0),y&&w("editor")},D=e=>{S(),l(e),n(!1),y&&w("editor")},E=()=>{S(),l(null),n(!1),y&&w("list")},T=()=>{r&&(n(!1),l(null),y&&w("list"))};return b?y?(0,i.jsx)(W.A,{showSidebarTrigger:!1,children:(0,i.jsx)("div",{className:"h-full w-full",children:"list"===k?(0,i.jsx)(v,{onSelectFaction:A,onNewFaction:F,selectedFactionId:t,dataVersion:o,filters:N,setFilters:L,onClearFilters:C}):(0,i.jsx)("div",{className:"h-full w-full overflow-y-auto",children:(0,i.jsx)("div",{className:"p-4 sm:p-6",children:(0,i.jsx)(R,{factionId:t,isCreatingNew:r,onSaveSuccess:D,onDeleteSuccess:E,onEditCancel:T,onBack:()=>{w("list"),l(null),n(!1)}},null!=t?t:r?"new":"placeholder")})})})}):(0,i.jsx)($.SidebarProvider,{children:(0,i.jsx)(W.A,{children:(0,i.jsxs)("div",{className:"flex w-full h-full overflow-hidden",children:[(0,i.jsx)($.Bx,{style:{"--sidebar-width":"380px"},children:(0,i.jsx)(v,{onSelectFaction:A,onNewFaction:F,selectedFactionId:t,dataVersion:o,filters:N,setFilters:L,onClearFilters:C})}),(0,i.jsx)($.sF,{className:"flex-1 overflow-y-auto",children:(0,i.jsx)("div",{className:"bg-background/50 p-4 sm:p-6 md:p-8 w-full",children:(0,i.jsx)(R,{factionId:t,isCreatingNew:r,onSaveSuccess:D,onDeleteSuccess:E,onEditCancel:T},null!=t?t:r?"new":"placeholder")})})]})})}):null}},85171:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var i=t(95155),a=t(12115),l=t(6195),r=t(20031),n=t(47906),o=t(62177),c=t(90221),d=t(55594),u=t(30285),p=t(62523),h=t(17759),m=t(66695),x=t(77223),f=t(34301),g=t(66424);let b=d.z.object({id:d.z.string(),name:d.z.string().min(1,"Month name is required"),days:d.z.coerce.number().min(1,"Must have at least 1 day")}),j=d.z.object({id:d.z.string(),name:d.z.string().min(1,"Weekday name is required")}),v=d.z.object({name:d.z.string().min(1,"Calendar name is required"),months:d.z.array(b).min(1,"At least one month is required"),weekdays:d.z.array(j).min(1,"At least one weekday is required"),minDate:d.z.string().optional(),maxDate:d.z.string().optional()});function y(e){let{calendar:s,onSave:t,onCancel:a}=e,l=!!s,r=(0,o.mN)({resolver:(0,c.u)(v),defaultValues:s?{...s,weekdays:s.weekdays.map(e=>({id:crypto.randomUUID(),name:e}))}:{name:"",months:[{id:crypto.randomUUID(),name:"Month 1",days:30}],weekdays:[{id:crypto.randomUUID(),name:"Day 1"},{id:crypto.randomUUID(),name:"Day 2"},{id:crypto.randomUUID(),name:"Day 3"},{id:crypto.randomUUID(),name:"Day 4"},{id:crypto.randomUUID(),name:"Day 5"}],minDate:"",maxDate:""}}),{fields:n,append:d,remove:b}=(0,o.jz)({control:r.control,name:"months"}),{fields:j,append:y,remove:k}=(0,o.jz)({control:r.control,name:"weekdays"});return(0,i.jsx)(h.lV,{...r,children:(0,i.jsx)("form",{onSubmit:r.handleSubmit(e=>{let i={...e,weekdays:e.weekdays.map(e=>e.name)};s?t({...s,...i}):t(i)}),className:"space-y-8 h-full flex flex-col",children:(0,i.jsxs)(m.Zp,{className:"flex-1 flex flex-col min-h-0",children:[(0,i.jsx)(m.aR,{children:(0,i.jsx)(m.ZB,{children:s?"Editing ".concat(s.name):"Create New Custom Calendar"})}),(0,i.jsx)(m.Wu,{className:"flex-1 min-h-0",children:(0,i.jsx)(g.F,{className:"h-full pr-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(h.zB,{control:r.control,name:"name",render:e=>{let{field:s}=e;return(0,i.jsxs)(h.eI,{children:[(0,i.jsx)(h.lR,{children:"Calendar Name"}),(0,i.jsx)(h.MJ,{children:(0,i.jsx)(p.p,{...s})}),(0,i.jsx)(h.C5,{})]})}}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Months"}),(0,i.jsx)("div",{className:"space-y-2",children:n.map((e,s)=>(0,i.jsxs)("div",{className:"flex items-end gap-2 p-2 border rounded-md",children:[(0,i.jsx)(h.zB,{control:r.control,name:"months.".concat(s,".name"),render:e=>{let{field:s}=e;return(0,i.jsxs)(h.eI,{className:"flex-1",children:[(0,i.jsx)(h.lR,{children:"Month Name"}),(0,i.jsx)(h.MJ,{children:(0,i.jsx)(p.p,{...s})}),(0,i.jsx)(h.C5,{})]})}}),(0,i.jsx)(h.zB,{control:r.control,name:"months.".concat(s,".days"),render:e=>{let{field:s}=e;return(0,i.jsxs)(h.eI,{children:[(0,i.jsx)(h.lR,{children:"Days"}),(0,i.jsx)(h.MJ,{children:(0,i.jsx)(p.p,{type:"number",...s,className:"w-24",disabled:l})}),(0,i.jsx)(h.C5,{})]})}}),!l&&(0,i.jsx)(u.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>b(s),children:(0,i.jsx)(x.A,{className:"h-4 w-4"})})]},e.id))}),!l&&(0,i.jsxs)(u.$,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>d({id:crypto.randomUUID(),name:"Month ".concat(n.length+1),days:30}),children:[(0,i.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Add Month"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Weekdays"}),(0,i.jsx)("div",{className:"space-y-2",children:j.map((e,s)=>(0,i.jsxs)("div",{className:"flex items-end gap-2",children:[(0,i.jsx)(h.zB,{control:r.control,name:"weekdays.".concat(s,".name"),render:e=>{let{field:t}=e;return(0,i.jsxs)(h.eI,{className:"flex-1",children:[(0,i.jsx)(h.MJ,{children:(0,i.jsx)(p.p,{...t,placeholder:"Day ".concat(s+1)})}),(0,i.jsx)(h.C5,{})]})}}),!l&&(0,i.jsx)(u.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>k(s),children:(0,i.jsx)(x.A,{className:"h-4 w-4"})})]},e.id))}),!l&&(0,i.jsxs)(u.$,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>y({id:crypto.randomUUID(),name:""}),children:[(0,i.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Add Weekday"]})]})]})})}),(0,i.jsxs)(m.wL,{children:[(0,i.jsx)(u.$,{type:"button",variant:"ghost",onClick:a,children:"Cancel"}),(0,i.jsx)(u.$,{type:"submit",className:"ml-auto",children:"Save Calendar"})]})]})})})}var k=t(77266),w=t(83011),N=t(90010),L=t(87481);function C(e){let{calendars:s,onSelect:t,onNew:a,onDelete:l,selectedCalendarId:r}=e;return(0,i.jsxs)("div",{className:"p-4 space-y-4 h-full flex flex-col",children:[(0,i.jsxs)(u.$,{onClick:a,className:"w-full",children:[(0,i.jsx)(f.A,{})," New Model"]}),(0,i.jsx)(g.F,{className:"flex-1",children:(0,i.jsx)("div",{className:"space-y-2 pr-2",children:s.map(e=>(0,i.jsxs)("div",{className:"flex group items-center justify-between rounded-md hover:bg-muted/50 transition-colors",children:[(0,i.jsx)(u.$,{variant:"ghost",className:"flex-1 justify-start text-left h-auto py-2 ".concat(r===e.id?"font-bold text-accent":""),onClick:()=>t(e.id),children:e.name}),(0,i.jsxs)(N.Lt,{children:[(0,i.jsx)(N.tv,{asChild:!0,children:(0,i.jsx)(u.$,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 text-destructive",children:(0,i.jsx)(x.A,{className:"h-4 w-4"})})}),(0,i.jsxs)(N.EO,{children:[(0,i.jsxs)(N.wd,{children:[(0,i.jsx)(N.r7,{children:"Are you sure?"}),(0,i.jsxs)(N.$v,{children:['This will permanently delete the "',e.name,'" model. All calendars using this model, and all of their events, will also be deleted. This action cannot be undone.']})]}),(0,i.jsxs)(N.ck,{children:[(0,i.jsx)(N.Zr,{children:"Cancel"}),(0,i.jsx)(N.Rx,{onClick:()=>l(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]},e.id))})})]})}function S(){var e;let[s,t]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);(0,n.a)();let{toast:p}=(0,L.dj)(),h=(0,a.useCallback)(async()=>{let e=await (0,w.Ul)();t(e),!(e.length>0)||o||d?0===e.length&&c(null):c(e[0])},[o,d]);(0,a.useEffect)(()=>{h()},[h]);let m=async e=>{if("id"in e)await (0,w.ZM)(e),p({title:"Calendar Model Updated"}),c(e);else{let s=await (0,w.D3)(e);p({title:"Calendar Model Created"}),c({...e,id:s})}u(!1),h()},x=async e=>{await (0,w.AI)(e),p({title:"Calendar Model Deleted"}),c(null),h()},f=()=>{u(!1),s.length>0?c(s[0]):c(null)};return(0,i.jsx)(r.SidebarProvider,{children:(0,i.jsx)(l.A,{children:(0,i.jsxs)("div",{className:"flex w-full h-full overflow-hidden",children:[(0,i.jsx)(r.Bx,{style:{"--sidebar-width":"300px"},children:(0,i.jsx)(C,{calendars:s,onSelect:e=>{let t=s.find(s=>s.id===e);t&&(c(t),u(!1))},onNew:()=>{c(null),u(!0)},onDelete:x,selectedCalendarId:null!=(e=null==o?void 0:o.id)?e:null})}),(0,i.jsx)(r.sF,{className:"flex-1 overflow-y-auto bg-background/50",children:(0,i.jsx)("div",{className:"p-4 sm:p-6 md:p-8 w-full h-full",children:(0,i.jsx)(()=>d?(0,i.jsx)(y,{onSave:m,onCancel:f,calendar:null!=o?o:void 0}):o?(0,i.jsx)(k.r,{calendar:o,onEdit:()=>{c(o),u(!0)}},o.id):(0,i.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:(0,i.jsx)("p",{children:"Select a calendar model or create a new one to begin."})}),{})})})]})})})}},99395:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var i=t(95155),a=t(12115),l=t(6195),r=t(30285),n=t(30990);let o=e=>Math.floor(Math.random()*e)+1,c=[{range:[1,1],type:"Wicked",rolls:["vice","vice"]},{range:[2,3],type:"Unhinged",rolls:["vice","oddity"]},{range:[4,7],type:"Balanced",rolls:["virtue","vice"]},{range:[8,9],type:"Eccentric",rolls:["virtue","oddity"]},{range:[10,10],type:"Virtuous",rolls:["virtue","virtue"]}],d=[{virtue:"Calm",vice:"Wrathful"},{virtue:"Daring",vice:"Cowardly"},{virtue:"Thoughtful",vice:"Impulsive"},{virtue:"Dutiful",vice:"Unruly"},{virtue:"Generous",vice:"Greedy"},{virtue:"Honest",vice:"Deceitful"},{virtue:"Supportive",vice:"Envious"},{virtue:"Humble",vice:"Arrogant"},{virtue:"Kind",vice:"Cruel"},{virtue:"Trusting",vice:"Paranoid"}],u=[["Obsessive","Steadfast","Altruistic","Haunted","Crude","Na\xefve"],["Whimsical","Imperious","Observant","Prideful","Self-Righteous","Vile"],["Anarchic","Eloquent","Jaded","Imaginative","Blunt","Tedious"],["Gentle","Delusional","Capricious","Nonchalant","Valiant","Merciful"],["Destructive","Loyal","Sarcastic","Servile","Ethical","Devout"],["Callous","Tense","Seductive","Fair-Minded","Spirited","Absentminded"],["Slothful","Curious","Clumsy","Heartless","Dramatic","Erudite"],["Stoic","Cheerful","Regal","Ambitious","Reliable","Vengeful"]],p=[{range:[1,3],group:"Outcasts"},{range:[4,6],group:"Laborers"},{range:[7,9],group:"Farmers"},{range:[10,12],group:"Artisans"},{range:[13,15],group:"Merchants"},{range:[16,17],group:"Soldiers"},{range:[18,19],group:"Servants"},{range:[20,20],group:"Nobility"}],h=[{pastLife:"Hermit",attributes:["spirit"],skill:"Nature",possessions:"moonshine"},{pastLife:"Leper",attributes:["spirit"],skill:"Stealth",possessions:"crude cloak (1d6)"},{pastLife:"Urchin",attributes:["agility"],skill:"Stealth",possessions:"stuffed animal"},{pastLife:"Poacher",attributes:["agility"],skill:"Perception",possessions:"bag of hides"},{pastLife:"Beggar",attributes:["spirit"],skill:"Folklore",possessions:"tin cup, 5 cp"},{pastLife:"Charlatan",attributes:["spirit"],skill:"Speech",possessions:"disguise kit"},{pastLife:"Graverobber",attributes:["might"],skill:"Perception",possessions:"rusted shovel"},{pastLife:"Fraud",attributes:["intellect"],skill:"Letters",possessions:"quill, ink, paper"},{pastLife:"Gambler",attributes:["intellect"],skill:"Speech",possessions:"dice"},{pastLife:"Pickpocket",attributes:["agility"],skill:"Stealth",possessions:"keys to unknown door"},{pastLife:"Arsonist",attributes:["intellect"],skill:"Athletics",possessions:"crude sword (1d6)"},{pastLife:"Drunkard",attributes:["might"],skill:"Speech",possessions:"empty tankard"},{pastLife:"Outlaw",attributes:["agility"],skill:"Stealth",possessions:"stolen jewelry"},{pastLife:"Expelled Acolyte",attributes:["intellect"],skill:"Letters",possessions:"holy texts, unread"},{pastLife:"Failed Apprentice",attributes:["intellect"],skill:"Magic",possessions:"stolen spellbook"},{pastLife:"Lockpicker",attributes:["agility"],skill:"Tinkering",possessions:"lockpicks"},{pastLife:"Vigilante",attributes:["agility","spirit"],skill:"Perception",possessions:"cloak (d8)"},{pastLife:"Doomsayer",attributes:["intellect","spirit"],skill:"Magic",possessions:"manifesto"},{pastLife:"Burglar",attributes:["agility","intellect"],skill:"Stealth",possessions:"crowbar"},{pastLife:"Pig Thief",attributes:["might","agility"],skill:"Stealth",possessions:"pig"}],m=[{pastLife:"Gongfarmer",attributes:["might"],skill:"Nature",possessions:"dung shovel"},{pastLife:"Scavenger",attributes:["agility"],skill:"Tinkering",possessions:"crude helm"},{pastLife:"Chimney Sweep",attributes:["agility"],skill:"Athletics",possessions:"bag of limes"},{pastLife:"Lamplighter",attributes:["might"],skill:"Acrobatics",possessions:"rope"},{pastLife:"Carver",attributes:["agility"],skill:"Nature",possessions:"sextant"},{pastLife:"Roofer",attributes:["agility"],skill:"Acrobatics",possessions:"ten-foot ladder (heavy)"},{pastLife:"Ferry Keeper",attributes:["intellect"],skill:"Folklore",possessions:"broken oar"},{pastLife:"Boatwright",attributes:["intellect"],skill:"Tinkering",possessions:"hammer and nails"},{pastLife:"Ragpicker",attributes:["spirit"],skill:"Stealth",possessions:"chipped shovel"},{pastLife:"Stable Hand",attributes:["agility"],skill:"Nature",possessions:"push broom"},{pastLife:"Stonemason",attributes:["might"],skill:"Tinkering",possessions:"hammer and chisel"},{pastLife:"Stable Keeper",attributes:["might"],skill:"Nature",possessions:"sack of horseshoes"},{pastLife:"Polisher",attributes:["agility"],skill:"Perception",possessions:"silver knife (as dagger)"},{pastLife:"Wagoner",attributes:["might"],skill:"Folklore",possessions:"tattered scarf, tricorn hat"},{pastLife:"Thatcher",attributes:["agility"],skill:"Acrobatics",possessions:"bag of thatch"},{pastLife:"Miner",attributes:["might"],skill:"Athletics",possessions:"pickaxe"},{pastLife:"Woodcutter",attributes:["might"],skill:"Nature",possessions:"old axe"},{pastLife:"Tavern Guard",attributes:["might","spirit"],skill:"Folklore",possessions:"cudgel (1d6)"},{pastLife:"Gravedigger",attributes:["might","spirit"],skill:"Athletics",possessions:"tombstone"},{pastLife:"Rat-Catcher",attributes:["agility","intellect"],skill:"Stealth",possessions:"rat-bashing stick"}],x=[{pastLife:"Cabbage Farmer",attributes:["might"],skill:"Athletics",possessions:"bag of cabbages"},{pastLife:"Carrot Farmer",attributes:["might"],skill:"Athletics",possessions:"bag of carrots"},{pastLife:"Onion Farmer",attributes:["might"],skill:"Athletics",possessions:"bag of onions"},{pastLife:"Wheat Farmer",attributes:["agility"],skill:"Athletics",possessions:"scythe (weapon)"},{pastLife:"Herbalist",attributes:["intellect"],skill:"Nature",possessions:"bag of herbs"},{pastLife:"Forager",attributes:["might"],skill:"Nature",possessions:"pouch of berries"},{pastLife:"Miller",attributes:["might"],skill:"Athletics",possessions:"bag of flour"},{pastLife:"Chicken Farmer",attributes:["agility"],skill:"Acrobatics",possessions:"chicken"},{pastLife:"Shepherd",attributes:["might"],skill:"Perception",possessions:"bag of wool"},{pastLife:"Cowherd",attributes:["might"],skill:"Nature",possessions:"cattle prod"},{pastLife:"Swineherd",attributes:["might"],skill:"Nature",possessions:"slop bucket, slop"},{pastLife:"Fowler",attributes:["agility"],skill:"Acrobatics",possessions:"quail eggs"},{pastLife:"Butter Churner",attributes:["agility"],skill:"Athletics",possessions:"butter churn"},{pastLife:"Fisher",attributes:["spirit"],skill:"Nature",possessions:"rod and tackle"},{pastLife:"Horse Trainer",attributes:["might"],skill:"Nature",possessions:"bag of carrots"},{pastLife:"Beekeeper",attributes:["spirit"],skill:"Nature",possessions:"queen in a jar"},{pastLife:"Trapper",attributes:["intellect"],skill:"Tinkering",possessions:"iron bear trap"},{pastLife:"Hound Keeper",attributes:["might","spirit"],skill:"Nature",possessions:"puppy"},{pastLife:"Hunter",attributes:["might","agility"],skill:"Stealth",possessions:"bow (d8)"},{pastLife:"Falconer",attributes:["agility","spirit"],skill:"Nature",possessions:"trained falcon"}],f=[{pastLife:"Carpenter",attributes:["might"],skill:"Crafting",possessions:"woodworking tools"},{pastLife:"Cobbler",attributes:["spirit"],skill:"Tinkering",possessions:"boots (L./+0/d6)"},{pastLife:"Wood-Carver",attributes:["agility"],skill:"Crafting",possessions:"carving of a squirrel"},{pastLife:"Glassblower",attributes:["agility"],skill:"Crafting",possessions:"1d6 glass vials"},{pastLife:"Leather-Worker",attributes:["might"],skill:"Crafting",possessions:"leather gloves (L./+1/d6)"},{pastLife:"Cook",attributes:["spirit"],skill:"Alchemy",possessions:"cookware"},{pastLife:"Weaver",attributes:["agility"],skill:"Crafting",possessions:"quilt"},{pastLife:"Locksmith",attributes:["agility"],skill:"Tinkering",possessions:"simple lock and key"},{pastLife:"Brewer",attributes:["spirit"],skill:"Alchemy",possessions:"small keg of ale"},{pastLife:"Soap-Maker",attributes:["might"],skill:"Alchemy",possessions:"bag of soap bars"},{pastLife:"Tailor",attributes:["agility"],skill:"Crafting",possessions:"well-maintained outfit"},{pastLife:"Tinker",attributes:["intellect"],skill:"Tinkering",possessions:"wind-up toy"},{pastLife:"Candle-Maker",attributes:["spirit"],skill:"Alchemy",possessions:"huge ceremonial candle"},{pastLife:"Fletcher",attributes:["agility"],skill:"Crafting",possessions:"bundle of arrows"},{pastLife:"Baker",attributes:["might"],skill:"Nature",possessions:"loaf of bread"},{pastLife:"Butcher",attributes:["might"],skill:"Nature",possessions:"meat cleaver (1d6)"},{pastLife:"Barber",attributes:["agility"],skill:"Speech",possessions:"shaving razors"},{pastLife:"Inventor",attributes:["intellect","spirit"],skill:"Crafting",possessions:"bundle of notes"},{pastLife:"Jeweler",attributes:["agility","intellect"],skill:"Tinkering",possessions:"tray of semi-precious gems"},{pastLife:"Blacksmith",attributes:["might","spirit"],skill:"Crafting",possessions:"hammer"}],g=[{pastLife:"Fence",attributes:["intellect"],skill:"Magic",possessions:"box of stolen junk"},{pastLife:"Salvage Dealer",attributes:["might"],skill:"Tinkering",possessions:"broken sword hilt"},{pastLife:"Relic Peddler",attributes:["spirit"],skill:"Folklore",possessions:"reliquary, fake relic"},{pastLife:"Wine Merchant",attributes:["intellect"],skill:"Nature",possessions:"bottle of lowland red"},{pastLife:"Street Hawker",attributes:["spirit"],skill:"Speech",possessions:"arrow-shaped sign"},{pastLife:"Bird Seller",attributes:["spirit"],skill:"Perception",possessions:"fine plumes"},{pastLife:"Fishmonger",attributes:["might"],skill:"Athletics",possessions:"rod and tackle"},{pastLife:"Cheesemonger",attributes:["spirit"],skill:"Speech",possessions:"bucket of cheeses"},{pastLife:"Fortune Teller",attributes:["spirit"],skill:"Magic",possessions:"fortune-telling cards"},{pastLife:"Tavern Server",attributes:["might"],skill:"Folklore",possessions:"serving platter"},{pastLife:"Pie Seller",attributes:["spirit"],skill:"Perception",possessions:"basket of meat pies"},{pastLife:"Florist",attributes:["spirit"],skill:"Nature",possessions:"basket of flowers"},{pastLife:"Cartographer",attributes:["intellect"],skill:"Letters",possessions:"scroll case with map"},{pastLife:"Spice Merchant",attributes:["intellect"],skill:"Speech",possessions:"spice box"},{pastLife:"Shopkeeper",attributes:["spirit"],skill:"Speech",possessions:"dusty ledger"},{pastLife:"Bookseller",attributes:["intellect"],skill:"Letters",possessions:"tome on a useful subject"},{pastLife:"Moneylender",attributes:["intellect"],skill:"Letters",possessions:"pouch of silver pieces"},{pastLife:"Apothecary",attributes:["intellect","spirit"],skill:"Nature",possessions:"satchel of herbs"},{pastLife:"Perfumer",attributes:["agility","spirit"],skill:"Perception",possessions:"fine perfume"},{pastLife:"Innkeeper",attributes:["might","intellect"],skill:"Speech",possessions:"bottle of hard liquor"}],b=[{pastLife:"Deserter",attributes:["intellect"],skill:"Stealth",possessions:"rusted helm (d6)"},{pastLife:"Mercenary",attributes:["might"],skill:"Stealth",possessions:"crude sword (d6)"},{pastLife:"Bodyguard",attributes:["might"],skill:"Perception",possessions:"crude crossbow (d6)"},{pastLife:"Town Guard",attributes:["might"],skill:"Perception",possessions:"crude flail (d6)"},{pastLife:"Catchpole",attributes:["intellect"],skill:"Athletics",possessions:"broken catchpole"},{pastLife:"Jailer",attributes:["might"],skill:"Perception",possessions:"set of keys"},{pastLife:"Executioner",attributes:["might"],skill:"Athletics",possessions:"crude greataxe (d8)"},{pastLife:"Sheriff",attributes:["spirit"],skill:"Perception",possessions:"crude crossbow (d8)"},{pastLife:"Scout",attributes:["agility"],skill:"Perception",possessions:"forest-green cloak (L./+0/d6)"},{pastLife:"Messenger",attributes:["agility"],skill:"Letters",possessions:"bag of undelivered letters"},{pastLife:"Foot Soldier",attributes:["might"],skill:"Athletics",possessions:"round shield (d8)"},{pastLife:"Rider",attributes:["agility"],skill:"Nature",possessions:"saddle bag"},{pastLife:"Flag-Bearer",attributes:["spirit"],skill:"Speech",possessions:"tattered banner (as staff)"},{pastLife:"Siege Engineer",attributes:["intellect"],skill:"Tinkering",possessions:"unfinished schematic"},{pastLife:"Sapper",attributes:["agility"],skill:"Perception",possessions:"grenade (deals 3d6 in a blast 3)"},{pastLife:"Archer",attributes:["agility"],skill:"Perception",possessions:"shortbow (d6)"},{pastLife:"Sergeant",attributes:["might"],skill:"Athletics",possessions:"child's drawing"},{pastLife:"Herald",attributes:["might","spirit"],skill:"Speech",possessions:"brass horn"},{pastLife:"Lieutenant",attributes:["might","intellect"],skill:"Letters",possessions:"medal of honor"},{pastLife:"Captain",attributes:["might","spirit"],skill:"Speech",possessions:"battle map"}],j=[{pastLife:"Teacher",attributes:["intellect"],skill:"Letters",possessions:"history book"},{pastLife:"Troubadour",attributes:["spirit"],skill:"Folklore",possessions:"book of sagas"},{pastLife:"Dancer",attributes:["agility"],skill:"Acrobatics",possessions:"dancing shoes"},{pastLife:"Singer",attributes:["spirit"],skill:"Speech",possessions:"whistle"},{pastLife:"Tax Collector",attributes:["intellect"],skill:"Letters",possessions:"empty coffer"},{pastLife:"Physician",attributes:["intellect"],skill:"Alchemy",possessions:"medicine bag"},{pastLife:"Gardener",attributes:["might"],skill:"Nature",possessions:"gardening hoe"},{pastLife:"Chef",attributes:["intellect"],skill:"Alchemy",possessions:"kitchen knife (as dagger)"},{pastLife:"Mortician",attributes:["intellect"],skill:"Letters",possessions:"autopsy kit"},{pastLife:"Pilgrim",attributes:["spirit"],skill:"Folklore",possessions:"holy text"},{pastLife:"Librarian",attributes:["intellect"],skill:"Letters",possessions:"tome on a useless subject"},{pastLife:"Thespian",attributes:["spirit"],skill:"Speech",possessions:"makeup kit"},{pastLife:"Circus Performer",attributes:["agility"],skill:"Acrobatics",possessions:"hoop"},{pastLife:"Pigeon Fancier",attributes:["intellect"],skill:"Nature",possessions:"pigeon in a cage"},{pastLife:"Painter",attributes:["spirit"],skill:"Perception",possessions:"brush and paints"},{pastLife:"Philosopher",attributes:["intellect"],skill:"Letters",possessions:"treatise on ethics"},{pastLife:"Astrologer",attributes:["intellect"],skill:"Magic",possessions:"chart of the cosmos"},{pastLife:"Spy",attributes:["agility","intellect"],skill:"Letters",possessions:"stolen letters"},{pastLife:"Poet",attributes:["intellect","spirit"],skill:"Letters",possessions:"binder of notes"},{pastLife:"Jester",attributes:["agility","spirit"],skill:"Acrobatics",possessions:"jester's cap (as cap)"}],v=[{range:[1,4],title:"Lady / Lord",attributes:["might","agility","spirit"],skill:"Letters"},{range:[5,8],title:"Duchess / Duke",attributes:["might","intellect","spirit"],skill:"Letters"},{range:[9,12],title:"Count / Countess",attributes:["agility","intellect","spirit"],skill:"Letters"},{range:[13,16],title:"Baron / Baroness",attributes:["might","agility","intellect"],skill:"Letters"},{range:[17,18],title:"Princess / Prince",attributes:["might","agility","intellect","spirit"],skill:"Letters, Speech"},{range:[19,20],title:"Queen / King",attributes:["might","agility","intellect","spirit"],skill:"Letters, Speech"}],y=["tattered but fine clothes","a signet ring","a deed to a forgotten land","a single, perfect pearl","a letter of introduction to a powerful figure","a portrait of a lost loved one"],k=()=>{let e=o(8),s=o(6);return u[e-1][s-1]},w=()=>{let e=o(10),s=c.find(s=>e>=s.range[0]&&e<=s.range[1]),t=[],i=[];for(let e of s.rolls)if("virtue"===e){let e=o(10);i.push(e),t.push(d[e-1].virtue)}else if("vice"===e){let e=o(10);i.push(e),t.push(d[e-1].vice)}else t.push(k());let a=new Set(t).size!==t.length,l=2===i.length&&i[0]===i[1];if(a||l){let e=k(),s=k();for(;e===s;)s=k();return"Strange: ".concat(e," & ").concat(s)}return"".concat(s.type,": ").concat(t.join(" & "))},N=()=>{let e,s=o(20),t=p.find(e=>s>=e.range[0]&&s<=e.range[1]);if(!t)return{pastLife:"Unknown",attributeBonuses:[],skill:"To be determined",equipment:[],isNoble:!1,isRoyalty:!1};let i=o(20);if("Nobility"===t.group){let e=v.find(e=>i>=e.range[0]&&i<=e.range[1]);if(e){let s=[y[o(y.length)-1]],t=["Princess / Prince","Queen / King"].includes(e.title);return{pastLife:e.title,attributeBonuses:e.attributes,skill:e.skill,equipment:s,isNoble:!0,isRoyalty:t}}}switch(t.group){case"Outcasts":e=h;break;case"Laborers":e=m;break;case"Farmers":e=x;break;case"Artisans":e=f;break;case"Merchants":e=g;break;case"Soldiers":e=b;break;case"Servants":e=j;break;default:return{pastLife:t.group,attributeBonuses:[],skill:"To be determined",equipment:[],isNoble:!1,isRoyalty:!1}}let a=e[i-1];return{pastLife:a.pastLife,attributeBonuses:a.attributes,skill:a.skill,equipment:[a.possessions],isNoble:!1,isRoyalty:!1}},L=()=>{let e={might:0,agility:0,intellect:0,spirit:0};for(let s=0;s<4;s++){let s=o(4);1===s?e.might++:2===s?e.agility++:3===s?e.intellect++:4===s&&e.spirit++}let{pastLife:s,attributeBonuses:t,skill:i,equipment:a,isNoble:l,isRoyalty:r}=N();for(let s of t)e.hasOwnProperty(s)&&e[s]++;let n=0,c=[...a];c.push("Crude weapon (melee, 2d4, topple)"),l&&(c.push("Normal weapon of any type","Quilted chest armor"),n=1,r&&c.push("Battered crown"));let d=e.might>=e.agility?"Might":"Agility",u={skillBonus:1,skillDie:"d6",hp:5+e.might,speed:5+e.agility,initiative:e.agility+1,accuracy:e.might+1,guard:n+e.agility,resist:e.spirit+1,prevail:e.intellect+1,tenacity:e.might+e.spirit};return{id:crypto.randomUUID(),attributes:e,keyAttribute:d,alignment:w(),pastLife:s,skill:i,equipment:c.join(", "),combatValues:u}},C=()=>Array.from({length:4},L);var S=t(66695),A=t(22346),F=t(85057),D=t(59434);let E=e=>{let{label:s,value:t,isKey:a}=e;return(0,i.jsxs)("div",{className:(0,D.cn)("rounded-md p-3 text-center",a?"bg-primary/20":"bg-muted/50"),children:[(0,i.jsx)("p",{className:"text-sm font-semibold text-muted-foreground",children:s}),(0,i.jsx)("p",{className:(0,D.cn)("text-4xl font-bold",a&&"text-primary"),children:t})]})},T=e=>{let{label:s,value:t}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-semibold text-muted-foreground",children:s}),(0,i.jsx)("p",{className:"text-lg font-bold",children:t})]})};function M(e){let{commoner:s}=e,[t,a]=s.alignment.split(": ");return(0,i.jsxs)(S.Zp,{children:[(0,i.jsxs)(S.aR,{children:[(0,i.jsx)(S.ZB,{children:"Commoner"}),(0,i.jsx)(S.BT,{children:s.pastLife})]}),(0,i.jsxs)(S.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(F.J,{children:"Attributes"}),(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-1",children:[(0,i.jsx)(E,{label:"Might",value:s.attributes.might,isKey:"Might"===s.keyAttribute}),(0,i.jsx)(E,{label:"Agility",value:s.attributes.agility,isKey:"Agility"===s.keyAttribute}),(0,i.jsx)(E,{label:"Intellect",value:s.attributes.intellect}),(0,i.jsx)(E,{label:"Spirit",value:s.attributes.spirit})]})]}),(0,i.jsx)(A.w,{}),(0,i.jsxs)("div",{children:[(0,i.jsx)(F.J,{children:"Combat Values"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-3 mt-2",children:[(0,i.jsx)(T,{label:"HP",value:s.combatValues.hp}),(0,i.jsx)(T,{label:"Speed",value:s.combatValues.speed}),(0,i.jsx)(T,{label:"Initiative",value:s.combatValues.initiative}),(0,i.jsx)(T,{label:"Accuracy",value:s.combatValues.accuracy}),(0,i.jsx)(T,{label:"Guard",value:s.combatValues.guard}),(0,i.jsx)(T,{label:"Resist",value:s.combatValues.resist}),(0,i.jsx)(T,{label:"Prevail",value:s.combatValues.prevail}),(0,i.jsx)(T,{label:"Tenacity",value:s.combatValues.tenacity})]})]}),(0,i.jsx)(A.w,{}),(0,i.jsxs)("div",{children:[(0,i.jsx)(F.J,{children:"Alignment"}),(0,i.jsxs)("p",{className:"text-foreground/90",children:[(0,i.jsxs)("span",{className:"font-bold text-foreground",children:[t,":"]})," ",a]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(F.J,{children:"Skill"}),(0,i.jsxs)("p",{className:"text-muted-foreground",children:[s.skill," (Bonus: +",s.combatValues.skillBonus,", Die: ",s.combatValues.skillDie,")"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(F.J,{children:"Equipment"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:s.equipment})]})]})]})}var B=t(20031);function P(){let[e,s]=(0,a.useState)([]);return(0,i.jsx)(B.SidebarProvider,{children:(0,i.jsx)(l.A,{children:(0,i.jsx)("div",{className:"h-full overflow-y-auto p-4 sm:p-6 md:p-8",children:(0,i.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,i.jsx)("div",{className:"flex justify-center mb-8",children:(0,i.jsxs)(r.$,{onClick:()=>{s(C())},size:"lg",children:[(0,i.jsx)(n.A,{className:"mr-2 h-5 w-5"}),"Generate Commoners"]})}),e.length>0?(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,i.jsx)(M,{commoner:e},e.id))}):(0,i.jsx)("div",{className:"text-center text-muted-foreground mt-16",children:(0,i.jsx)("p",{children:"Click the button to generate your first set of commoners."})})]})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[1294,586,8238,8702,3373,8439,5636,6430,7242,9609,2511,392,2007,400,2489,6004,7737,9516,5692,9209,3336,9094,9012,7662,3485,522,1999,4580,6818,6395,2667,4867,4911,1625,4605,3690,8441,1684,7358],()=>s(50717)),_N_E=e.O()}]);