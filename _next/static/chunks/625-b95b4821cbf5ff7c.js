"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{10:(e,t,r)=>{r.d(t,{$v:()=>x,EO:()=>f,Lt:()=>i,Rx:()=>v,Zr:()=>y,ck:()=>m,r7:()=>h,tv:()=>d,wd:()=>p});var a=r(5155),s=r(2115),l=r(2278),n=r(9434),o=r(285);let i=l.bL,d=l.l9,c=l.ZL,u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});u.displayName=l.hJ.displayName;let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s})]})});f.displayName=l.UC.displayName;let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};p.displayName="AlertDialogHeader";let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};m.displayName="AlertDialogFooter";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold",r),...s})});h.displayName=l.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});x.displayName=l.VY.displayName;let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.rc,{ref:t,className:(0,n.cn)((0,o.r)(),r),...s})});v.displayName=l.rc.displayName;let y=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.ZD,{ref:t,className:(0,n.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",r),...s})});y.displayName=l.ZD.displayName},31:(e,t,r)=>{r.d(t,{Bx:()=>m,GB:()=>p,cL:()=>f,sF:()=>x,x2:()=>h});var a=r(5155),s=r(2115),l=r(5546),n=r(7906),o=r(9434),i=r(285),d=r(8382),c=r(5821);let u=s.createContext(null);function f(){let e=s.useContext(u);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let p=s.forwardRef((e,t)=>{let{defaultOpen:r=!0,open:l,onOpenChange:i,className:d,children:c,...f}=e,p=(0,n.a)(),[m,h]=s.useState(!1),[x,v]=s.useState(r),y=null!=l?l:x,g=s.useCallback(e=>{let t="function"==typeof e?e(y):e;i?i(t):v(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[i,y]),b=s.useCallback(()=>p?h(e=>!e):g(e=>!e),[p,g,h]);s.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b]);let w=y?"expanded":"collapsed",j=s.useMemo(()=>({state:w,open:y,setOpen:g,isMobile:p,openMobile:m,setOpenMobile:h,toggleSidebar:b}),[w,y,g,p,m,h,b]);return(0,a.jsx)(u.Provider,{value:j,children:(0,a.jsx)("div",{className:(0,o.cn)("flex min-h-0 w-full flex-1",d),ref:t,...f,children:c})})});p.displayName="SidebarProvider";let m=s.forwardRef((e,t)=>{let{className:r,children:s,side:l="left",...n}=e,{isMobile:i,state:u,openMobile:p,setOpenMobile:m}=f();return i?(0,a.jsx)(d.cj,{open:p,onOpenChange:m,children:(0,a.jsxs)(d.h,{side:l,className:"w-[var(--sidebar-width-mobile)] bg-card p-0 flex flex-col",style:{"--sidebar-width-mobile":"300px"},children:[(0,a.jsxs)(d.Fm,{className:"p-4 border-b",children:[(0,a.jsx)(c.L3,{className:"sr-only",children:"Menu"}),(0,a.jsx)(d.qp,{children:"Menu"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:s})]})}):(0,a.jsx)("div",{ref:t,className:(0,o.cn)("hidden md:flex flex-col bg-card text-card-foreground border-r border-border transition-all duration-300","expanded"===u?"w-[var(--sidebar-width)]":"w-0","overflow-hidden",r),...n,children:s})});m.displayName="Sidebar";let h=s.forwardRef((e,t)=>{let{className:r,onClick:s,...n}=e,{toggleSidebar:d}=f();return(0,a.jsxs)(i.$,{ref:t,variant:"ghost",size:"icon",className:(0,o.cn)("h-7 w-7",r),onClick:e=>{null==s||s(e),d()},...n,children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});h.displayName="SidebarTrigger";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex-1 flex flex-col",r),...s})});x.displayName="SidebarInset"},285:(e,t,r)=>{r.d(t,{$:()=>d,r:()=>i});var a=r(5155),s=r(2115),l=r(4253),n=r(2085),o=r(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:s,size:n,className:r})),ref:t,...c})});d.displayName="Button"},467:(e,t,r)=>{r.d(t,{A:()=>B});var a=r(5155),s=r(6874),l=r.n(s),n=r(8341),o=r(2643),i=r(4039),d=r(6923),c=r(8718),u=r(285),f=r(2115),p=r(9615),m=r(3158),h=r(518),x=r(154),v=r(9434);let y=p.bL,g=p.l9;p.YJ,p.ZL,p.Pb,p.z6,f.forwardRef((e,t)=>{let{className:r,inset:s,children:l,...n}=e;return(0,a.jsxs)(p.ZP,{ref:t,className:(0,v.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...n,children:[l,(0,a.jsx)(m.A,{className:"ml-auto"})]})}).displayName=p.ZP.displayName,f.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(p.G5,{ref:t,className:(0,v.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=p.G5.displayName;let b=f.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...l}=e;return(0,a.jsx)(p.ZL,{children:(0,a.jsx)(p.UC,{ref:t,sideOffset:s,className:(0,v.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});b.displayName=p.UC.displayName;let w=f.forwardRef((e,t)=>{let{className:r,inset:s,...l}=e;return(0,a.jsx)(p.q7,{ref:t,className:(0,v.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...l})});w.displayName=p.q7.displayName,f.forwardRef((e,t)=>{let{className:r,children:s,checked:l,...n}=e;return(0,a.jsxs)(p.H_,{ref:t,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:l,...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(p.VF,{children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})}),s]})}).displayName=p.H_.displayName,f.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(p.hN,{ref:t,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(p.VF,{children:(0,a.jsx)(x.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=p.hN.displayName,f.forwardRef((e,t)=>{let{className:r,inset:s,...l}=e;return(0,a.jsx)(p.JU,{ref:t,className:(0,v.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...l})}).displayName=p.JU.displayName,f.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(p.wv,{ref:t,className:(0,v.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=p.wv.displayName;var j=r(8382),N=r(5695),S=r(2346),G=r(31),A=r(10),R=r(7481),P=r(9746),D=r(6762);function I(e,t){return"string"==typeof e&&e.trim()?e.trim().split(/\n\s*\n/).map(e=>{let r,a,s,l=e.trim().split("\n").map(e=>e.trim()).filter(Boolean);if(l.length<2)return null;let n=l[0];if(n.length>50)return null;let o=l[1],i=o.toUpperCase().match(/(\w+)\s+(ATTACK|SUPPORT)\s+VS\.?\s+(\w+|[0-9]+)/);if(i)r=i[1].toLowerCase(),a=i[2].toLowerCase(),s=i[3].toLowerCase();else{let e=o.toUpperCase().match(/(\w+)\s+(ATTACK|SUPPORT)/);if(!e)return console.warn("Failed to parse deed type line -> ",o),null;r=e[1].toLowerCase(),s="support"===(a=e[2].toLowerCase())?"10":"guard"}let d=2,c="";l[2]&&(l[d].toLowerCase().startsWith("target:")||l[d].toLowerCase().startsWith("range:")||l[d].toLowerCase().startsWith("area:"))&&(c=l[d].split("|").map(e=>{let t=e.split(":");return t.length>1?t.slice(1).join(":").trim():t[0].trim()}).join(" | "),d++);let u=l.slice(d),f={},p=null;for(let e of u){let t=e.match(/^(Start|Base|Hit|Shadow|End):\s*(.*)$/i);if(t){let e=t[1].toLowerCase(),r=t[2].trim();f[e]=(f[e]?"".concat(f[e],"\n"):"")+r,p=e}else p?f[p]+="\n"+e:(f.hit=(f.hit?"".concat(f.hit,"\n"):"")+e,p="hit")}return{name:n,tier:t,actionType:a,deedType:r,versus:s,target:c,effects:f,tags:[]}}).filter(e=>null!==e):[]}async function M(e){let t;try{t=JSON.parse(e)}catch(e){throw Error("Invalid JSON file.")}if(!Array.isArray(t))throw Error("Invalid JSON format: Expected an array of creatures.");let r=0,a=0,s=new Map((await (0,P.xy)()).map(e=>["".concat(e.name.toLowerCase().trim(),"|").concat(e.tier),e]));for(let e of t){var l;let t=Number(e.level)||1,n=Number(e.tr)||0,o=Number(e.hp)||1,i=Number(e.spd)||0,d=Number(e.init)||0,c=Number(e.acc)||0,u=Number(e.grd)||0,f=Number(e.res)||0,p=[...I(e.lightDeeds,"light"),...I(e.heavyDeeds,"heavy"),...I(e.mightyDeeds,"mighty")],m=[];for(let e of p){let t="".concat(e.name.toLowerCase().trim(),"|").concat(e.tier),r=s.get(t);if(!r){let l=await (0,P.W$)(e);a++,r={...e,id:l},s.set(t,r)}m.push(r.id)}let h={name:e.monsterName,role:e.role,level:t,template:"Normal",TR:n,attributes:{HP:o,Speed:i,Initiative:d,Accuracy:c,Guard:u,Resist:f,rollBonus:parseInt((e.roll||"0").replace("+",""),10)||0,DMG:(null==(l=(0,D.GQ)(e.role,t))?void 0:l.DMG)||"d6"},abilities:Object.entries(e.features||{}).map(e=>{let[t,r]=e;return"**".concat(t,":** ").concat(r)}).join("\n\n"),description:"",tags:[],deeds:m};await (0,P.RW)(h),r++}return{creaturesAdded:r,deedsAdded:a}}function B(e){let{children:t}=e,r=(0,N.usePathname)(),s=(0,f.useRef)(null),p=(0,f.useRef)(null),{toast:m}=(0,R.dj)(),h=async()=>{try{let e=await (0,P.uv)(),t="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e,null,2))),r=document.createElement("a");r.href=t,r.download="tresspasser_bestiary.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),m({title:"Export Successful",description:"Your data has been downloaded."})}catch(e){console.error("Export failed:",e),m({variant:"destructive",title:"Export Failed",description:"Could not export the data."})}},x=async e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(!r)return;let a=new FileReader;a.onload=async e=>{try{var t;let r=null==(t=e.target)?void 0:t.result;if("string"!=typeof r)throw Error("File content could not be read as text.");let a=JSON.parse(r);await (0,P.Qx)(a),m({title:"Import Successful",description:"Data has been overwritten. The application will now reload."}),setTimeout(()=>{window.location.reload()},1500)}catch(e){console.error("Import failed:",e),m({variant:"destructive",title:"Import Failed",description:e.message||"Please check the file format and content."})}finally{s.current&&(s.current.value="")}},a.readAsText(r)},v=async e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(!r)return;let a=new FileReader;a.onload=async e=>{try{var t;let r=null==(t=e.target)?void 0:t.result;if("string"!=typeof r)throw Error("File content could not be read as text.");let{creaturesAdded:a,deedsAdded:s}=await M(r);m({title:"Import Successful",description:"Added ".concat(a," creatures and ").concat(s," new deeds. The application will now reload.")}),setTimeout(()=>{window.location.reload()},1500)}catch(e){console.error("Legacy import failed:",e),m({variant:"destructive",title:"Import Failed",description:e.message||"Please check the file format and content."})}finally{p.current&&(p.current.value="")}},a.readAsText(r)},D=(0,f.useMemo)(()=>{switch(r){case"/":default:return"Bestiary";case"/deeds":return"Deeds";case"/encounters":return"Encounters"}},[r]),I=[{href:"/deeds",label:"Creature Deeds",group:"Compendium"},{href:"/",label:"Bestiary",group:"Compendium"},{href:"/encounters",label:"Encounters"}],B=I.filter(e=>"Compendium"===e.group),H=I.filter(e=>!e.group),C=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(y,{children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsx)(u.$,{variant:"ghost",children:"Compendium"})}),(0,a.jsx)(b,{children:B.map(e=>(0,a.jsx)(l(),{href:e.href,passHref:!0,children:(0,a.jsx)(w,{children:e.label})},e.href))})]}),H.map(e=>(0,a.jsx)(l(),{href:e.href,passHref:!0,children:(0,a.jsx)(u.$,{variant:r===e.href?"secondary":"ghost",children:e.label})},e.href))]}),k=(0,a.jsxs)(j.cj,{children:[(0,a.jsx)(j.CG,{asChild:!0,children:(0,a.jsxs)(u.$,{variant:"ghost",size:"icon",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsxs)(j.h,{side:"right",className:"p-0",children:[(0,a.jsx)(j.Fm,{className:"p-4 border-b",children:(0,a.jsx)(j.qp,{children:"Menu"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,a.jsx)("p",{className:"font-bold text-lg",children:"Compendium"}),B.map(e=>(0,a.jsx)(l(),{href:e.href,passHref:!0,children:(0,a.jsx)(u.$,{variant:r===e.href?"secondary":"ghost",className:"w-full justify-start",children:e.label})},e.href)),(0,a.jsx)(S.w,{className:"my-2"}),H.map(e=>(0,a.jsx)(l(),{href:e.href,passHref:!0,children:(0,a.jsx)(u.$,{variant:r===e.href?"secondary":"ghost",className:"w-full justify-start",children:e.label})},e.href))]})]})]});return(0,a.jsxs)("div",{className:"flex flex-col h-screen",style:{width:"100%"},children:[(0,a.jsxs)("header",{className:"py-4 px-6 md:px-8 border-b border-border flex items-center justify-between shrink-0 bg-background/80 backdrop-blur-sm sticky top-0 z-20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[("/"===r||"/deeds"===r||"/encounters"===r)&&(0,a.jsx)(G.x2,{}),(0,a.jsxs)(l(),{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)(o.A,{className:"text-primary h-8 w-8"}),(0,a.jsxs)("h1",{className:"text-2xl md:text-3xl font-headline font-bold text-primary-foreground whitespace-nowrap",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"Tresspasser "}),D]})]}),(0,a.jsx)(S.w,{orientation:"vertical",className:"h-6 mx-2 hidden md:block"}),(0,a.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:C})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"file",ref:p,onChange:v,accept:".json",className:"hidden"}),(0,a.jsxs)(A.Lt,{children:[(0,a.jsx)(A.tv,{asChild:!0,children:(0,a.jsxs)(u.$,{variant:"ghost",size:"icon",title:"Import Legacy Data",children:[(0,a.jsx)(i.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Import Legacy Data"})]})}),(0,a.jsxs)(A.EO,{children:[(0,a.jsxs)(A.wd,{children:[(0,a.jsx)(A.r7,{children:"Import Legacy Creatures?"}),(0,a.jsx)(A.$v,{children:"This will add creatures and deeds from the selected JSON file. This action does not overwrite existing data, but may create duplicates if the imported creatures already exist in your library."})]}),(0,a.jsxs)(A.ck,{children:[(0,a.jsx)(A.Zr,{children:"Cancel"}),(0,a.jsx)(A.Rx,{onClick:()=>{var e;return null==(e=p.current)?void 0:e.click()},children:"Proceed"})]})]})]}),(0,a.jsx)("input",{type:"file",ref:s,onChange:x,accept:".json",className:"hidden"}),(0,a.jsxs)(A.Lt,{children:[(0,a.jsx)(A.tv,{asChild:!0,children:(0,a.jsxs)(u.$,{variant:"ghost",size:"icon",title:"Import Data",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Import Data"})]})}),(0,a.jsxs)(A.EO,{children:[(0,a.jsxs)(A.wd,{children:[(0,a.jsx)(A.r7,{children:"Import Data?"}),(0,a.jsx)(A.$v,{children:"This will overwrite all existing creatures, deeds, and encounters with the data from the selected JSON file. This action cannot be undone."})]}),(0,a.jsxs)(A.ck,{children:[(0,a.jsx)(A.Zr,{children:"Cancel"}),(0,a.jsx)(A.Rx,{onClick:()=>{var e;return null==(e=s.current)?void 0:e.click()},children:"Proceed"})]})]})]}),(0,a.jsxs)(u.$,{variant:"ghost",size:"icon",onClick:h,title:"Export Data",children:[(0,a.jsx)(c.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Export Data"})]}),(0,a.jsx)("div",{className:"md:hidden",children:k})]})]}),(0,a.jsx)("main",{className:"flex-1 min-h-0",children:t})]})}},648:(e,t,r)=>{r.d(t,{F:()=>p});var a=r(5155),s=r(2115),l=r(2523),n=r(285),o=r(6126),i=r(5318),d=r(4636),c=r(9746),u=r(6424),f=r(9434);let p=e=>{let{value:t,onChange:r,placeholder:p}=e,[m,h]=(0,s.useState)(""),[x,v]=(0,s.useState)([]),[y,g]=(0,s.useState)([]),[b,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)(-1),S=(0,s.useRef)(null);(0,s.useEffect)(()=>{!async function(){v((await (0,c.r)()).map(e=>e.name))}()},[]),(0,s.useEffect)(()=>{if(m){let e=x.filter(e=>e.toLowerCase().includes(m.toLowerCase())).filter(e=>!t.includes(e)).slice(0,10);g(e);let r=e.length>0;w(r),N(r?0:-1)}else w(!1),g([]),N(-1)},[m,x,t]);let G=e=>{let a=e.trim();a&&!t.includes(a)&&r([...t,a]),h(""),w(!1),N(-1)};return(0,a.jsxs)(d.AM,{open:b,onOpenChange:w,children:[(0,a.jsx)(d.dT,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex w-full flex-wrap items-center gap-2 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background has-[input:focus-visible]:outline-none has-[input:focus-visible]:ring-2 has-[input:focus-visible]:ring-ring has-[input:focus-visible]:ring-offset-2",children:[t.map(e=>(0,a.jsxs)(o.E,{variant:"secondary",children:[e,(0,a.jsx)("button",{type:"button",className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:()=>{var a;r(t.filter(t=>t!==e)),null==(a=S.current)||a.focus()},children:(0,a.jsx)(i.A,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},e)),(0,a.jsx)(l.p,{ref:S,type:"text",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>{if(b&&y.length>0){if("ArrowDown"===e.key){e.preventDefault(),N(e=>e>=y.length-1?0:e+1);return}if("ArrowUp"===e.key){e.preventDefault(),N(e=>e<=0?y.length-1:e-1);return}if(("Enter"===e.key||"Tab"===e.key)&&j>-1){e.preventDefault(),G(y[j]);return}}("Enter"===e.key||","===e.key)&&m.trim()?(e.preventDefault(),G(m)):"Backspace"===e.key&&""===m&&t.length>0&&r(t.slice(0,-1))},placeholder:p,className:"flex-1 border-0 bg-transparent p-0 text-base shadow-none outline-none focus-visible:ring-0 focus-visible:ring-offset-0 md:text-sm"})]})}),(0,a.jsx)(d.hl,{className:"w-[var(--radix-popover-trigger-width)] p-0",onOpenAutoFocus:e=>e.preventDefault(),children:(0,a.jsx)(u.F,{className:"max-h-40",children:y.length>0&&(0,a.jsx)("div",{className:"p-1",children:y.map((e,t)=>(0,a.jsx)(n.$,{variant:"ghost",className:(0,f.cn)("w-full justify-start font-normal",j===t&&"bg-accent"),onClick:()=>G(e),children:e},e))})})})]})}},2346:(e,t,r)=>{r.d(t,{w:()=>o});var a=r(5155),s=r(2115),l=r(7489),n=r(9434);let o=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:o=!0,...i}=e;return(0,a.jsx)(l.b,{ref:t,decorative:o,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...i})});o.displayName=l.b.displayName},2523:(e,t,r)=>{r.d(t,{p:()=>n});var a=r(5155),s=r(2115),l=r(9434);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},4636:(e,t,r)=>{r.d(t,{AM:()=>o,Wv:()=>i,dT:()=>d,hl:()=>c});var a=r(5155),s=r(2115),l=r(8176),n=r(9434);let o=l.bL,i=l.l9,d=l.Mz,c=s.forwardRef((e,t)=>{let{className:r,align:s="center",sideOffset:o=4,...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,align:s,sideOffset:o,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})})});c.displayName=l.UC.displayName},5057:(e,t,r)=>{r.d(t,{J:()=>d});var a=r(5155),s=r(2115),l=r(968),n=r(2085),o=r(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,o.cn)(i(),r),...s})});d.displayName=l.b.displayName},6126:(e,t,r)=>{r.d(t,{E:()=>o});var a=r(5155);r(2115);var s=r(2085),l=r(9434);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:r}),t),...s})}},6424:(e,t,r)=>{r.d(t,{F:()=>o});var a=r(5155),s=r(2115),l=r(7655),n=r(9434);let o=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(l.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",r),...o,children:[(0,a.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,a.jsx)(i,{}),(0,a.jsx)(l.OK,{})]})});o.displayName=l.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:r,orientation:s="vertical",...o}=e;return(0,a.jsx)(l.VM,{ref:t,orientation:s,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...o,children:(0,a.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=l.VM.displayName},6695:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>u});var a=r(5155),s=r(2115),l=r(9434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},6762:(e,t,r)=>{r.d(t,{ED:()=>o,GQ:()=>d,TP:()=>i,gg:()=>a});let a=["Archer","Enchanter","Enforcer","Guardian","Harrier","Hellion","Stalker","Sorcerer"],s={Archer:[{level:1,HP:20,Initiative:14,Accuracy:16,Guard:12,Resist:12,rollBonus:"+4",Speed:5,DMG:"d6"},{level:2,HP:30,Initiative:14,Accuracy:16,Guard:12,Resist:12,rollBonus:"+4",Speed:5,DMG:"d6"},{level:3,HP:40,Initiative:15,Accuracy:17,Guard:13,Resist:13,rollBonus:"+5",Speed:5,DMG:"d6"},{level:4,HP:50,Initiative:15,Accuracy:17,Guard:13,Resist:13,rollBonus:"+5",Speed:5,DMG:"d8"},{level:5,HP:60,Initiative:16,Accuracy:18,Guard:14,Resist:14,rollBonus:"+6",Speed:6,DMG:"d8"},{level:6,HP:70,Initiative:16,Accuracy:18,Guard:14,Resist:14,rollBonus:"+6",Speed:6,DMG:"d8"},{level:7,HP:75,Initiative:17,Accuracy:19,Guard:15,Resist:15,rollBonus:"+7",Speed:7,DMG:"d10"},{level:8,HP:80,Initiative:17,Accuracy:19,Guard:15,Resist:15,rollBonus:"+7",Speed:7,DMG:"d10"},{level:9,HP:85,Initiative:18,Accuracy:20,Guard:16,Resist:16,rollBonus:"+8",Speed:8,DMG:"d10"},{level:10,HP:90,Initiative:18,Accuracy:20,Guard:16,Resist:16,rollBonus:"+8",Speed:8,DMG:"d12"}],Enchanter:[{level:1,HP:20,Initiative:12,Accuracy:14,Guard:16,Resist:16,rollBonus:"+4",Speed:5,DMG:"d6"},{level:2,HP:30,Initiative:12,Accuracy:14,Guard:16,Resist:16,rollBonus:"+4",Speed:5,DMG:"d6"},{level:3,HP:40,Initiative:13,Accuracy:15,Guard:17,Resist:17,rollBonus:"+5",Speed:5,DMG:"d6"},{level:4,HP:50,Initiative:13,Accuracy:15,Guard:17,Resist:17,rollBonus:"+5",Speed:5,DMG:"d6"},{level:5,HP:60,Initiative:14,Accuracy:16,Guard:18,Resist:18,rollBonus:"+6",Speed:6,DMG:"d8"},{level:6,HP:70,Initiative:14,Accuracy:16,Guard:18,Resist:18,rollBonus:"+6",Speed:6,DMG:"d8"},{level:7,HP:80,Initiative:15,Accuracy:17,Guard:19,Resist:19,rollBonus:"+7",Speed:7,DMG:"d8"},{level:8,HP:90,Initiative:15,Accuracy:17,Guard:19,Resist:19,rollBonus:"+7",Speed:7,DMG:"d10"},{level:9,HP:95,Initiative:16,Accuracy:18,Guard:20,Resist:20,rollBonus:"+8",Speed:8,DMG:"d10"},{level:10,HP:100,Initiative:16,Accuracy:18,Guard:20,Resist:20,rollBonus:"+8",Speed:8,DMG:"d10"}],Enforcer:[{level:1,HP:40,Initiative:12,Accuracy:14,Guard:12,Resist:14,rollBonus:"+6",Speed:5,DMG:"d8"},{level:2,HP:60,Initiative:12,Accuracy:14,Guard:12,Resist:14,rollBonus:"+6",Speed:5,DMG:"d8"},{level:3,HP:80,Initiative:13,Accuracy:15,Guard:13,Resist:15,rollBonus:"+7",Speed:5,DMG:"d8"},{level:4,HP:90,Initiative:13,Accuracy:15,Guard:13,Resist:15,rollBonus:"+7",Speed:5,DMG:"d8"},{level:5,HP:100,Initiative:14,Accuracy:16,Guard:14,Resist:16,rollBonus:"+8",Speed:5,DMG:"d10"},{level:6,HP:110,Initiative:14,Accuracy:16,Guard:14,Resist:16,rollBonus:"+8",Speed:5,DMG:"d10"},{level:7,HP:120,Initiative:15,Accuracy:17,Guard:15,Resist:17,rollBonus:"+9",Speed:5,DMG:"d10"},{level:8,HP:130,Initiative:15,Accuracy:17,Guard:15,Resist:17,rollBonus:"+9",Speed:5,DMG:"d12"},{level:9,HP:140,Initiative:16,Accuracy:18,Guard:16,Resist:18,rollBonus:"+10",Speed:5,DMG:"d12"},{level:10,HP:150,Initiative:16,Accuracy:18,Guard:16,Resist:18,rollBonus:"+10",Speed:5,DMG:"d12"}],Guardian:[{level:1,HP:25,Initiative:12,Accuracy:14,Guard:16,Resist:14,rollBonus:"+4",Speed:5,DMG:"d6"},{level:2,HP:40,Initiative:12,Accuracy:14,Guard:16,Resist:14,rollBonus:"+4",Speed:5,DMG:"d6"},{level:3,HP:50,Initiative:13,Accuracy:15,Guard:17,Resist:15,rollBonus:"+5",Speed:5,DMG:"d6"},{level:4,HP:60,Initiative:13,Accuracy:15,Guard:17,Resist:15,rollBonus:"+5",Speed:5,DMG:"d6"},{level:5,HP:70,Initiative:14,Accuracy:16,Guard:18,Resist:16,rollBonus:"+6",Speed:5,DMG:"d8"},{level:6,HP:80,Initiative:14,Accuracy:16,Guard:18,Resist:16,rollBonus:"+6",Speed:5,DMG:"d8"},{level:7,HP:85,Initiative:15,Accuracy:17,Guard:19,Resist:17,rollBonus:"+7",Speed:5,DMG:"d10"},{level:8,HP:90,Initiative:15,Accuracy:17,Guard:19,Resist:17,rollBonus:"+7",Speed:5,DMG:"d10"},{level:9,HP:95,Initiative:16,Accuracy:18,Guard:20,Resist:18,rollBonus:"+8",Speed:5,DMG:"d10"},{level:10,HP:100,Initiative:16,Accuracy:18,Guard:20,Resist:18,rollBonus:"+8",Speed:5,DMG:"d12"}],Harrier:[{level:1,HP:20,Initiative:16,Accuracy:14,Guard:14,Resist:12,rollBonus:"+2",Speed:6,DMG:"d6"},{level:2,HP:30,Initiative:16,Accuracy:14,Guard:14,Resist:12,rollBonus:"+2",Speed:6,DMG:"d6"},{level:3,HP:40,Initiative:17,Accuracy:15,Guard:15,Resist:13,rollBonus:"+3",Speed:7,DMG:"d6"},{level:4,HP:50,Initiative:17,Accuracy:15,Guard:15,Resist:13,rollBonus:"+3",Speed:7,DMG:"d6"},{level:5,HP:60,Initiative:18,Accuracy:16,Guard:16,Resist:14,rollBonus:"+4",Speed:8,DMG:"d8"},{level:6,HP:70,Initiative:18,Accuracy:16,Guard:16,Resist:14,rollBonus:"+4",Speed:8,DMG:"d8"},{level:7,HP:75,Initiative:19,Accuracy:17,Guard:17,Resist:15,rollBonus:"+5",Speed:9,DMG:"d8"},{level:8,HP:80,Initiative:19,Accuracy:17,Guard:17,Resist:15,rollBonus:"+5",Speed:9,DMG:"d8"},{level:9,HP:85,Initiative:20,Accuracy:18,Guard:18,Resist:16,rollBonus:"+6",Speed:10,DMG:"d10"},{level:10,HP:90,Initiative:20,Accuracy:18,Guard:18,Resist:16,rollBonus:"+6",Speed:10,DMG:"d10"}],Hellion:[{level:1,HP:30,Initiative:14,Accuracy:16,Guard:12,Resist:14,rollBonus:"+2",Speed:6,DMG:"d8"},{level:2,HP:50,Initiative:14,Accuracy:16,Guard:12,Resist:14,rollBonus:"+2",Speed:6,DMG:"d8"},{level:3,HP:60,Initiative:15,Accuracy:17,Guard:13,Resist:15,rollBonus:"+3",Speed:6,DMG:"d8"},{level:4,HP:70,Initiative:15,Accuracy:17,Guard:13,Resist:15,rollBonus:"+3",Speed:6,DMG:"d8"},{level:5,HP:80,Initiative:16,Accuracy:18,Guard:14,Resist:16,rollBonus:"+4",Speed:7,DMG:"d10"},{level:6,HP:90,Initiative:16,Accuracy:18,Guard:14,Resist:16,rollBonus:"+4",Speed:7,DMG:"d10"},{level:7,HP:100,Initiative:17,Accuracy:19,Guard:15,Resist:17,rollBonus:"+5",Speed:7,DMG:"d10"},{level:8,HP:110,Initiative:17,Accuracy:19,Guard:15,Resist:17,rollBonus:"+5",Speed:7,DMG:"d12"},{level:9,HP:115,Initiative:18,Accuracy:20,Guard:16,Resist:18,rollBonus:"+6",Speed:8,DMG:"d12"},{level:10,HP:120,Initiative:18,Accuracy:20,Guard:16,Resist:18,rollBonus:"+6",Speed:8,DMG:"d12"}],Stalker:[{level:1,HP:20,Initiative:14,Accuracy:16,Guard:14,Resist:12,rollBonus:"+4",Speed:5,DMG:"d6"},{level:2,HP:30,Initiative:14,Accuracy:16,Guard:14,Resist:12,rollBonus:"+4",Speed:5,DMG:"d6"},{level:3,HP:40,Initiative:15,Accuracy:17,Guard:15,Resist:13,rollBonus:"+5",Speed:5,DMG:"d6"},{level:4,HP:50,Initiative:15,Accuracy:17,Guard:15,Resist:13,rollBonus:"+5",Speed:5,DMG:"d6"},{level:5,HP:60,Initiative:16,Accuracy:18,Guard:16,Resist:14,rollBonus:"+6",Speed:6,DMG:"d8"},{level:6,HP:70,Initiative:16,Accuracy:18,Guard:16,Resist:14,rollBonus:"+6",Speed:6,DMG:"d8"},{level:7,HP:80,Initiative:17,Accuracy:19,Guard:17,Resist:15,rollBonus:"+7",Speed:7,DMG:"d10"},{level:8,HP:90,Initiative:17,Accuracy:19,Guard:17,Resist:15,rollBonus:"+7",Speed:7,DMG:"d10"},{level:9,HP:95,Initiative:18,Accuracy:20,Guard:18,Resist:16,rollBonus:"+7",Speed:8,DMG:"d12"},{level:10,HP:100,Initiative:18,Accuracy:20,Guard:18,Resist:16,rollBonus:"+8",Speed:8,DMG:"d12"}],Sorcerer:[{level:1,HP:20,Initiative:12,Accuracy:16,Guard:12,Resist:16,rollBonus:"+4",Speed:5,DMG:"d8"},{level:2,HP:30,Initiative:12,Accuracy:16,Guard:12,Resist:16,rollBonus:"+4",Speed:5,DMG:"d8"},{level:3,HP:40,Initiative:13,Accuracy:17,Guard:13,Resist:17,rollBonus:"+5",Speed:5,DMG:"d8"},{level:4,HP:50,Initiative:13,Accuracy:17,Guard:13,Resist:17,rollBonus:"+5",Speed:5,DMG:"d8"},{level:5,HP:55,Initiative:14,Accuracy:18,Guard:14,Resist:18,rollBonus:"+6",Speed:5,DMG:"d10"},{level:6,HP:60,Initiative:14,Accuracy:18,Guard:14,Resist:18,rollBonus:"+6",Speed:5,DMG:"d10"},{level:7,HP:65,Initiative:15,Accuracy:19,Guard:15,Resist:19,rollBonus:"+7",Speed:6,DMG:"d10"},{level:8,HP:70,Initiative:15,Accuracy:19,Guard:15,Resist:19,rollBonus:"+7",Speed:6,DMG:"d12"},{level:9,HP:75,Initiative:16,Accuracy:20,Guard:16,Resist:20,rollBonus:"+8",Speed:7,DMG:"d12"},{level:10,HP:80,Initiative:16,Accuracy:20,Guard:16,Resist:20,rollBonus:"+8",Speed:7,DMG:"d12"}]},l={Normal:[10,20,30,40,50,60,70,80,90,100],Underling:[3,5,7,10,12,15,17,20,22,25],Paragon:[20,40,60,80,100,120,140,160,180,200],Tyrant:[40,80,120,160,200,240,280,320,360,400]},n=["d6","d8","d10","d12"];function o(e){let t=n.indexOf(e);return t>0?n[t-1]:n[0]}function i(e,t){var r,a;return t<1||t>10?0:null!=(a=null==(r=l[e])?void 0:r[t-1])?a:0}function d(e,t){var r;if(!e||t<1||t>10)return null;let a=null==(r=s[e])?void 0:r[t-1];if(!a)return null;let l=parseInt(a.rollBonus,10);return{...a,rollBonus:isNaN(l)?0:l}}},7481:(e,t,r)=>{r.d(t,{dj:()=>f});var a=r(2115);let s=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=o(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=a.useState(d);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7759:(e,t,r)=>{r.d(t,{C5:()=>v,MJ:()=>x,eI:()=>m,lR:()=>h,lV:()=>d,zB:()=>u});var a=r(5155),s=r(2115),l=r(4253),n=r(2177),o=r(9434),i=r(5057);let d=n.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(n.xI,{...t})})},f=()=>{let e=s.useContext(c),t=s.useContext(p),{getFieldState:r,formState:a}=(0,n.xW)(),l=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...l}},p=s.createContext({}),m=s.forwardRef((e,t)=>{let{className:r,...l}=e,n=s.useId();return(0,a.jsx)(p.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...l})})});m.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:l,formItemId:n}=f();return(0,a.jsx)(i.J,{ref:t,className:(0,o.cn)(l&&"text-destructive",r),htmlFor:n,...s})});h.displayName="FormLabel";let x=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:n,formDescriptionId:o,formMessageId:i}=f();return(0,a.jsx)(l.DX,{ref:t,id:n,"aria-describedby":s?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!s,...r})});x.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:l}=f();return(0,a.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})}).displayName="FormDescription";let v=s.forwardRef((e,t)=>{var r;let{className:s,children:l,...n}=e,{error:i,formMessageId:d}=f(),c=i?String(null!=(r=null==i?void 0:i.message)?r:""):l;return c?(0,a.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",s),...n,children:c}):null});v.displayName="FormMessage"},7906:(e,t,r)=>{r.d(t,{a:()=>s});var a=r(2115);function s(){let[e,t]=a.useState(void 0);return a.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),r=()=>{t(window.innerWidth<768)};return e.addEventListener("change",r),t(window.innerWidth<768),()=>e.removeEventListener("change",r)},[]),!!e}},8382:(e,t,r)=>{r.d(t,{CG:()=>c,Fm:()=>h,cj:()=>d,h:()=>m,qp:()=>x});var a=r(5155),s=r(2115),l=r(5821),n=r(2085),o=r(5318),i=r(9434);let d=l.bL,c=l.l9;l.bm;let u=l.ZL,f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});f.displayName=l.hJ.displayName;let p=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=s.forwardRef((e,t)=>{let{side:r="right",className:s,children:n,...d}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(l.UC,{ref:t,className:(0,i.cn)(p({side:r}),s),...d,children:[n,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let h=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};h.displayName="SheetHeader";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold text-foreground",r),...s})});x.displayName=l.hE.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})}).displayName=l.VY.displayName},8539:(e,t,r)=>{r.d(t,{T:()=>n});var a=r(5155),s=r(2115),l=r(9434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});n.displayName="Textarea"},8856:(e,t,r)=>{r.d(t,{E:()=>l});var a=r(5155),s=r(9434);function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...r})}},8911:(e,t,r)=>{r.d(t,{P:()=>n});var a=r(5155),s=r(9434),l=r(5057);let n=e=>{let{deed:t,dmgReplacement:r}=e,n=e=>{if(e)return r?e.replace(/\\dd/g,r):e},o="".concat(t.deedType," ").concat(t.actionType," VS ").concat(t.versus).toUpperCase(),i="".concat(o," | ").concat(t.target);return(0,a.jsxs)("div",{className:(0,s.cn)("rounded-lg border bg-card-foreground/5 border-l-4 p-4 mb-4",{light:"border-sky-400",heavy:"border-amber-400",mighty:"border-fuchsia-400"}[t.tier]),children:[(0,a.jsxs)("div",{className:"flex justify-between items-baseline mb-3",children:[(0,a.jsx)("h4",{className:"text-xl font-bold",children:t.name}),(0,a.jsx)("div",{className:(0,s.cn)("text-xs font-bold uppercase px-2 py-0.5 rounded-full",{light:"text-sky-300 bg-sky-900/50",heavy:"text-amber-300 bg-amber-900/50",mighty:"text-fuchsia-300 bg-fuchsia-900/50"}[t.tier]),children:t.tier})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-3 border-b border-t border-border py-2",children:(0,a.jsx)("p",{className:"text-foreground/90",children:i})}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[t.effects.start&&(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{className:"text-primary-foreground/90 font-semibold uppercase",children:"Start"}),(0,a.jsx)("p",{className:"text-foreground/90 mt-0.5 whitespace-pre-wrap pl-2 font-light",children:n(t.effects.start)})]}),t.effects.base&&(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{className:"text-primary-foreground/90 font-semibold uppercase",children:"Base"}),(0,a.jsx)("p",{className:"text-foreground/90 mt-0.5 whitespace-pre-wrap pl-2 font-light",children:n(t.effects.base)})]}),t.effects.hit&&(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{className:"text-primary-foreground font-semibold uppercase",children:"Hit"}),(0,a.jsx)("p",{className:"text-foreground/90 mt-0.5 whitespace-pre-wrap pl-2 font-light",children:n(t.effects.hit)})]}),t.effects.shadow&&(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{className:"text-primary-foreground font-semibold uppercase",children:"Shadow"}),(0,a.jsx)("p",{className:"text-foreground/90 mt-0.5 whitespace-pre-wrap pl-2 font-light",children:n(t.effects.shadow)})]}),t.effects.end&&(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{className:"text-primary-foreground/90 font-semibold uppercase",children:"End"}),(0,a.jsx)("p",{className:"text-foreground/90 mt-0.5 whitespace-pre-wrap pl-2 font-light",children:n(t.effects.end)})]})]})]})}},9409:(e,t,r)=>{r.d(t,{bq:()=>f,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>u});var a=r(5155),s=r(2115),l=r(3433),n=r(9556),o=r(7381),i=r(518),d=r(9434);let c=l.bL;l.YJ;let u=l.WT,f=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[s,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=l.l9.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=l.PP.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});m.displayName=l.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...o}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[(0,a.jsx)(p,{}),(0,a.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(m,{})]})})});h.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=l.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:s})]})});x.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=l.wv.displayName},9434:(e,t,r)=>{r.d(t,{cn:()=>l});var a=r(2596),s=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9746:(e,t,r)=>{r.d(t,{C8:()=>u,Fs:()=>N,H$:()=>S,JE:()=>P,OG:()=>d,PW:()=>m,Qx:()=>I,RW:()=>f,W$:()=>v,ZJ:()=>G,ZK:()=>p,eS:()=>w,eq:()=>j,kO:()=>y,pT:()=>b,r:()=>A,rp:()=>x,s2:()=>c,uv:()=>D,wz:()=>g,xy:()=>h});let a="creatures",s="deeds",l="encounters",n="tags",o=()=>new Promise((e,t)=>{let r=indexedDB.open("TresspasserBestiaryDB",4);r.onupgradeneeded=e=>{let t=r.result;t.objectStoreNames.contains(a)||t.createObjectStore(a,{keyPath:"id"}),t.objectStoreNames.contains(s)||t.createObjectStore(s,{keyPath:"id"}),t.objectStoreNames.contains(l)||t.createObjectStore(l,{keyPath:"id"}),t.objectStoreNames.contains(n)||t.createObjectStore(n,{keyPath:"name"})},r.onsuccess=()=>{e(r.result)},r.onerror=()=>{console.error("IndexedDB error:",r.error),t(r.error)}}),i=()=>crypto.randomUUID(),d=async()=>{let e=(await o()).transaction(a,"readonly").objectStore(a).getAll();return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>r(e.error)})},c=async e=>{let t=(await o()).transaction(a,"readonly").objectStore(a).get(e);return new Promise((e,r)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>r(t.error)})},u=async e=>{if(!e||0===e.length)return[];let t=(await o()).transaction(a,"readonly").objectStore(a),r=[],s=e.map(e=>new Promise((a,s)=>{let l=t.get(e);l.onsuccess=()=>{l.result&&r.push(l.result),a()},l.onerror=()=>s(l.error)}));return await Promise.all(s),r},f=async e=>{let t=(await o()).transaction(a,"readwrite").objectStore(a),r=i(),s={...e,id:r},l=t.add(s);return new Promise((e,t)=>{l.onsuccess=()=>e(r),l.onerror=()=>t(l.error)})},p=async e=>{let t=(await o()).transaction(a,"readwrite").objectStore(a).put(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>r(t.error)})},m=async e=>{let t=(await o()).transaction(a,"readwrite").objectStore(a).delete(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>r(t.error)})},h=async()=>{let e=(await o()).transaction(s,"readonly").objectStore(s).getAll();return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>r(e.error)})},x=async e=>{let t=(await o()).transaction(s,"readonly").objectStore(s).get(e);return new Promise((e,r)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>r(t.error)})},v=async e=>{let t=(await o()).transaction(s,"readwrite").objectStore(s),r=i(),a={...e,id:r},l=t.add(a);return new Promise((e,t)=>{l.onsuccess=()=>e(r),l.onerror=()=>t(l.error)})},y=async e=>{let t=(await o()).transaction(s,"readwrite").objectStore(s).put(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>r(t.error)})},g=async e=>{let t=(await o()).transaction(s,"readwrite").objectStore(s).delete(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>r(t.error)})},b=async e=>{if(!e||0===e.length)return[];let t=(await o()).transaction(s,"readonly").objectStore(s),r=[],a=e.map(e=>new Promise((a,s)=>{let l=t.get(e);l.onsuccess=()=>{l.result&&r.push(l.result),a()},l.onerror=()=>s(l.error)}));return await Promise.all(a),r},w=async()=>{let e=(await o()).transaction(l,"readonly").objectStore(l).getAll();return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>r(e.error)})},j=async e=>{let t=(await o()).transaction(l,"readonly").objectStore(l).get(e);return new Promise((e,r)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>r(t.error)})},N=async e=>{let t=(await o()).transaction(l,"readwrite").objectStore(l),r=i(),a={...e,id:r},s=t.add(a);return new Promise((e,t)=>{s.onsuccess=()=>e(r),s.onerror=()=>t(s.error)})},S=async e=>{let t=(await o()).transaction(l,"readwrite").objectStore(l).put(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>r(t.error)})},G=async e=>{let t=(await o()).transaction(l,"readwrite").objectStore(l).delete(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>r(t.error)})},A=async()=>{let e=(await o()).transaction(n,"readonly").objectStore(n).getAll();return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>r(e.error)})},R=async e=>{let t=(await o()).transaction(n,"readwrite").objectStore(n).add(e);return new Promise((e,r)=>{t.onsuccess=()=>e(),t.onerror=()=>{var a;(null==(a=t.error)?void 0:a.name)!=="ConstraintError"?r(t.error):e()}})},P=async e=>{e&&0!==e.length&&await Promise.all(e.map(e=>R({name:e})))},D=async()=>{let e=(await o()).transaction([a,s,l,n],"readonly"),t=new Promise((t,r)=>{let s=e.objectStore(a).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>r(s.error)}),r=new Promise((t,r)=>{let a=e.objectStore(s).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>r(a.error)}),i=new Promise((t,r)=>{let a=e.objectStore(l).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>r(a.error)}),d=new Promise((t,r)=>{let a=e.objectStore(n).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>r(a.error)}),[c,u,f,p]=await Promise.all([t,r,i,d]);return{creatures:c,deeds:u,encounters:f,tags:p}},I=async e=>{let t=await o();if("object"!=typeof e||null===e||!Array.isArray(e.creatures)&&!Array.isArray(e.deeds)&&!Array.isArray(e.encounters))return Promise.reject(Error("Invalid import file format. Expected an object with 'creatures', 'deeds', and/or 'encounters' arrays."));let r=t.transaction([a,s,l,n],"readwrite"),i=r.objectStore(a),d=r.objectStore(s),c=r.objectStore(l),u=r.objectStore(n);return i.clear(),d.clear(),c.clear(),u.clear(),e.creatures&&Array.isArray(e.creatures)&&e.creatures.forEach(e=>i.put(e)),e.deeds&&Array.isArray(e.deeds)&&e.deeds.forEach(e=>d.put(e)),e.encounters&&Array.isArray(e.encounters)&&e.encounters.forEach(e=>c.put(e)),e.tags&&Array.isArray(e.tags)&&e.tags.forEach(e=>u.put(e)),new Promise((e,t)=>{r.oncomplete=()=>e(),r.onerror=()=>t(r.error)})}}}]);